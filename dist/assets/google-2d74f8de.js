import{r as o,j as se,a as Ke}from"./react-43d16258.js";var Bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gi={exports:{}},fo="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",po=fo,go=po;function Ki(){}function Zi(){}Zi.resetWarningCache=Ki;var mo=function(){function t(s,i,r,a,c,l){if(l!==go){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Zi,resetWarningCache:Ki};return n.PropTypes=n,n};Gi.exports=mo();var vo=Gi.exports;const Uh=Wi(vo);var yo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lo=function(t,e,n,s,i,r,a,c){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,s,i,r,a,c],d=0;l=new Error(e.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},ie=Lo;const V=o.createContext(null);function bo(){ie(!!o.useContext,"useGoogleMap is React hook and requires React version 16.8+");const t=o.useContext(V);return ie(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function Eo(t,e,n){return Object.keys(t).reduce(function(i,r){return e(i,t[r],r)},n)}function wo(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function Io(t,e,n,s){const i={};return wo(t,(a,c)=>{const l=n[c];l!==e[c]&&(i[c]=l,a(s,l))}),i}function _o(t,e,n){return Eo(n,function(r,a,c){return typeof t[c]=="function"&&r.push(google.maps.event.addListener(e,a,t[c])),r},[])}function So(t){google.maps.event.removeListener(t)}function W(t=[]){t.forEach(So)}function F({updaterMap:t,eventMap:e,prevProps:n,nextProps:s,instance:i}){const r=_o(s,i,e);return Io(t,n,s,i),r}const ws={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},Is={extraMapTypes(t,e){e.forEach(function(s,i){t.mapTypes.set(String(i),s)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function Co({children:t,options:e,id:n,mapContainerStyle:s,mapContainerClassName:i,center:r,onClick:a,onDblClick:c,onDrag:l,onDragEnd:u,onDragStart:d,onMouseMove:f,onMouseOut:m,onMouseOver:h,onMouseDown:L,onMouseUp:y,onRightClick:b,onCenterChanged:w,onLoad:v,onUnmount:g}){const[p,_]=o.useState(null),I=o.useRef(null),[k,x]=o.useState(null),[E,C]=o.useState(null),[T,O]=o.useState(null),[$,R]=o.useState(null),[G,H]=o.useState(null),[N,M]=o.useState(null),[B,U]=o.useState(null),[Z,K]=o.useState(null),[P,S]=o.useState(null),[ne,Q]=o.useState(null),[z,A]=o.useState(null),[Y,q]=o.useState(null);return o.useEffect(()=>{e&&p!==null&&p.setOptions(e)},[p,e]),o.useEffect(()=>{p!==null&&typeof r<"u"&&p.setCenter(r)},[p,r]),o.useEffect(()=>{p&&c&&(E!==null&&google.maps.event.removeListener(E),C(google.maps.event.addListener(p,"dblclick",c)))},[c]),o.useEffect(()=>{p&&u&&(T!==null&&google.maps.event.removeListener(T),O(google.maps.event.addListener(p,"dragend",u)))},[u]),o.useEffect(()=>{p&&d&&($!==null&&google.maps.event.removeListener($),R(google.maps.event.addListener(p,"dragstart",d)))},[d]),o.useEffect(()=>{p&&L&&(G!==null&&google.maps.event.removeListener(G),H(google.maps.event.addListener(p,"mousedown",L)))},[L]),o.useEffect(()=>{p&&f&&(N!==null&&google.maps.event.removeListener(N),M(google.maps.event.addListener(p,"mousemove",f)))},[f]),o.useEffect(()=>{p&&m&&(B!==null&&google.maps.event.removeListener(B),U(google.maps.event.addListener(p,"mouseout",m)))},[m]),o.useEffect(()=>{p&&h&&(Z!==null&&google.maps.event.removeListener(Z),K(google.maps.event.addListener(p,"mouseover",h)))},[h]),o.useEffect(()=>{p&&y&&(P!==null&&google.maps.event.removeListener(P),S(google.maps.event.addListener(p,"mouseup",y)))},[y]),o.useEffect(()=>{p&&b&&(ne!==null&&google.maps.event.removeListener(ne),Q(google.maps.event.addListener(p,"rightclick",b)))},[b]),o.useEffect(()=>{p&&a&&(z!==null&&google.maps.event.removeListener(z),A(google.maps.event.addListener(p,"click",a)))},[a]),o.useEffect(()=>{p&&l&&(Y!==null&&google.maps.event.removeListener(Y),q(google.maps.event.addListener(p,"drag",l)))},[l]),o.useEffect(()=>{p&&w&&(k!==null&&google.maps.event.removeListener(k),x(google.maps.event.addListener(p,"center_changed",w)))},[a]),o.useEffect(()=>{const he=I.current===null?null:new google.maps.Map(I.current,e);return _(he),he!==null&&v&&v(he),()=>{he!==null&&g&&g(he)}},[]),se.jsx("div",Object.assign({id:n,ref:I,style:s,className:i},{children:se.jsx(V.Provider,Object.assign({value:p},{children:p!==null?t:se.jsx(se.Fragment,{})}))}))}o.memo(Co);class $h extends o.PureComponent{constructor(){super(...arguments),this.state={map:null},this.registeredEvents=[],this.mapRef=null,this.getInstance=()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options),this.panTo=e=>{const n=this.getInstance();n&&n.panTo(e)},this.setMapCallback=()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)},this.getRef=e=>{this.mapRef=e}}componentDidMount(){const e=this.getInstance();this.registeredEvents=F({updaterMap:Is,eventMap:ws,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(W(this.registeredEvents),this.registeredEvents=F({updaterMap:Is,eventMap:ws,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),W(this.registeredEvents))}render(){return se.jsx("div",Object.assign({id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName},{children:se.jsx(V.Provider,Object.assign({value:this.state.map},{children:this.state.map!==null?this.props.children:se.jsx(se.Fragment,{})}))}))}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function An(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function ko(t,e,n,s){function i(r){return r instanceof n?r:new n(function(a){a(r)})}return new(n||(n=Promise))(function(r,a){function c(d){try{u(s.next(d))}catch(f){a(f)}}function l(d){try{u(s.throw(d))}catch(f){a(f)}}function u(d){d.done?r(d.value):i(d.value).then(c,l)}u((s=s.apply(t,e||[])).next())})}const $e=typeof document<"u";function qi({url:t,id:e,nonce:n}){return $e?new Promise(function(i,r){const a=document.getElementById(e),c=window;if(a){const u=a.getAttribute("data-state");if(a.src===t&&u!=="error"){if(u==="ready")return i(e);{const d=c.initMap,f=a.onerror;c.initMap=function(){d&&d(),i(e)},a.onerror=function(m){f&&f(m),r(m)};return}}else a.remove()}const l=document.createElement("script");l.type="text/javascript",l.src=t,l.id=e,l.async=!0,l.nonce=n,l.onerror=function(d){l.setAttribute("data-state","error"),r(d)},c.initMap=function(){l.setAttribute("data-state","ready"),i(e)},document.head.appendChild(l)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function _s(t){const e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function Ji(){const t=document.getElementsByTagName("head")[0],e=t.insertBefore.bind(t);t.insertBefore=function(i,r){_s(i)||Reflect.apply(e,t,[i,r])};const n=t.appendChild.bind(t);t.appendChild=function(i){_s(i)||Reflect.apply(n,t,[i])}}function Yi({googleMapsApiKey:t,googleMapsClientId:e,version:n="weekly",language:s,region:i,libraries:r,channel:a,mapIds:c,authReferrerPolicy:l}){const u=[];return ie(t&&e||!(t&&e),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?u.push(`key=${t}`):e&&u.push(`client=${e}`),n&&u.push(`v=${n}`),s&&u.push(`language=${s}`),i&&u.push(`region=${i}`),r&&r.length&&u.push(`libraries=${r.sort().join(",")}`),a&&u.push(`channel=${a}`),c&&c.length&&u.push(`map_ids=${c.join(",")}`),l&&u.push(`auth_referrer_policy=${l}`),u.push("callback=initMap"),`https://maps.googleapis.com/maps/api/js?${u.join("&")}`}let ut=!1;function Xi(){return se.jsx("div",{children:"Loading..."})}const In={id:"script-loader",version:"weekly"};class xo extends o.PureComponent{constructor(){super(...arguments),this.check=o.createRef(),this.state={loaded:!1},this.cleanupCallback=()=>{delete window.google.maps,this.injectScript()},this.isCleaningUp=()=>ko(this,void 0,void 0,function*(){function e(n){if(!ut)n();else if($e){const s=window.setInterval(function(){ut||(window.clearInterval(s),n())},1)}}return new Promise(e)}),this.cleanup=()=>{ut=!0;const e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(s){return typeof s.src=="string"&&s.src.includes("maps.googleapis")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(s){return s.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(s){return s.innerText!==void 0&&s.innerText.length>0&&s.innerText.includes(".gm-")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)})},this.injectScript=()=>{this.props.preventGoogleFontsLoading&&Ji(),ie(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);const e={id:this.props.id,nonce:this.props.nonce,url:Yi(this.props)};qi(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (${this.props.googleMapsApiKey||"-"}) or Client ID (${this.props.googleMapsClientId||"-"}) to <LoadScript />
          Otherwise it is a Network issue.
        `)})}}componentDidMount(){if($e){if(window.google&&window.google.maps&&!ut){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),$e&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if($e){this.cleanup();const e=()=>{this.check.current||(delete window.google,ut=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return se.jsxs(se.Fragment,{children:[se.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||se.jsx(Xi,{})]})}}xo.defaultProps=In;let Ss;function To({id:t=In.id,version:e=In.version,nonce:n,googleMapsApiKey:s,googleMapsClientId:i,language:r,region:a,libraries:c,preventGoogleFontsLoading:l,channel:u,mapIds:d,authReferrerPolicy:f}){const m=o.useRef(!1),[h,L]=o.useState(!1),[y,b]=o.useState(void 0);o.useEffect(function(){return m.current=!0,()=>{m.current=!1}},[]),o.useEffect(function(){$e&&l&&Ji()},[l]),o.useEffect(function(){h&&ie(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[h]);const w=Yi({version:e,googleMapsApiKey:s,googleMapsClientId:i,language:r,region:a,libraries:c,channel:u,mapIds:d,authReferrerPolicy:f});o.useEffect(function(){if(!$e)return;function p(){m.current&&(L(!0),Ss=w)}if(window.google&&window.google.maps&&Ss===w){p();return}qi({id:t,url:w,nonce:n}).then(p).catch(function(I){m.current&&b(I),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (${s||"-"}) or Client ID (${i||"-"})
        Otherwise it is a Network issue.
      `),console.error(I)})},[t,w,n]);const v=o.useRef();return o.useEffect(function(){v.current&&c!==v.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),v.current=c},[c]),{isLoaded:h,loadError:y,url:w}}const Mo=se.jsx(Xi,{});function Po(t){var{loadingElement:e,onLoad:n,onError:s,onUnmount:i,children:r}=t,a=An(t,["loadingElement","onLoad","onError","onUnmount","children"]);const{isLoaded:c,loadError:l}=To(a);return o.useEffect(function(){c&&typeof n=="function"&&n()},[c,n]),o.useEffect(function(){l&&typeof s=="function"&&s(l)},[l,s]),o.useEffect(function(){return()=>{i&&i()}},[i]),c?r:e||Mo}o.memo(Po);var Cs;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Cs||(Cs={}));const ks={},xs={options(t,e){t.setOptions(e)}};function Oo({options:t,onLoad:e,onUnmount:n}){const s=o.useContext(V),[i,r]=o.useState(null);return o.useEffect(()=>{i!==null&&i.setMap(s)},[s]),o.useEffect(()=>{t&&i!==null&&i.setOptions(t)},[i,t]),o.useEffect(()=>{const a=new google.maps.TrafficLayer(Object.assign(Object.assign({},t||{}),{map:s}));return r(a),e&&e(a),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}o.memo(Oo);class Ro extends o.PureComponent{constructor(){super(...arguments),this.state={trafficLayer:null},this.setTrafficLayerCallback=()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)},this.registeredEvents=[]}componentDidMount(){const e=new google.maps.TrafficLayer(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=F({updaterMap:xs,eventMap:ks,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(W(this.registeredEvents),this.registeredEvents=F({updaterMap:xs,eventMap:ks,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),W(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}Ro.contextType=V;function Ao({onLoad:t,onUnmount:e}){const n=o.useContext(V),[s,i]=o.useState(null);return o.useEffect(()=>{s!==null&&s.setMap(n)},[n]),o.useEffect(()=>{const r=new google.maps.BicyclingLayer;return i(r),r.setMap(n),t&&t(r),()=>{r!==null&&(e&&e(r),r.setMap(null))}},[]),null}o.memo(Ao);class Do extends o.PureComponent{constructor(){super(...arguments),this.state={bicyclingLayer:null},this.setBicyclingLayerCallback=()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))}}componentDidMount(){const e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}Do.contextType=V;function No({onLoad:t,onUnmount:e}){const n=o.useContext(V),[s,i]=o.useState(null);return o.useEffect(()=>{s!==null&&s.setMap(n)},[n]),o.useEffect(()=>{const r=new google.maps.TransitLayer;return i(r),r.setMap(n),t&&t(r),()=>{s!==null&&(e&&e(s),this.state.transitLayer.setMap(null))}},[]),null}o.memo(No);class Bo extends o.PureComponent{constructor(){super(...arguments),this.state={transitLayer:null},this.setTransitLayerCallback=()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))}}componentDidMount(){const e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}Bo.contextType=V;const Ts={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Ms={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function Uo({options:t,drawingMode:e,onCircleComplete:n,onMarkerComplete:s,onOverlayComplete:i,onPolygonComplete:r,onPolylineComplete:a,onRectangleComplete:c,onLoad:l,onUnmount:u}){const d=o.useContext(V),[f,m]=o.useState(null),[h,L]=o.useState(null),[y,b]=o.useState(null),[w,v]=o.useState(null),[g,p]=o.useState(null),[_,I]=o.useState(null),[k,x]=o.useState(null);return o.useEffect(()=>{f!==null&&f.setMap(d)},[d]),o.useEffect(()=>{t&&f!==null&&f.setOptions(t)},[f,t]),o.useEffect(()=>{e&&f!==null&&f.setDrawingMode(e)},[f,e]),o.useEffect(()=>{f&&n&&(h!==null&&google.maps.event.removeListener(h),L(google.maps.event.addListener(f,"circlecomplete",n)))},[f,n]),o.useEffect(()=>{f&&s&&(y!==null&&google.maps.event.removeListener(y),b(google.maps.event.addListener(f,"markercomplete",s)))},[f,s]),o.useEffect(()=>{f&&i&&(w!==null&&google.maps.event.removeListener(w),v(google.maps.event.addListener(f,"overlaycomplete",i)))},[f,i]),o.useEffect(()=>{f&&r&&(g!==null&&google.maps.event.removeListener(g),p(google.maps.event.addListener(f,"polygoncomplete",r)))},[f,r]),o.useEffect(()=>{f&&a&&(_!==null&&google.maps.event.removeListener(_),I(google.maps.event.addListener(f,"polylinecomplete",a)))},[f,a]),o.useEffect(()=>{f&&c&&(k!==null&&google.maps.event.removeListener(k),x(google.maps.event.addListener(f,"rectanglecomplete",c)))},[f,c]),o.useEffect(()=>{ie(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);const E=new google.maps.drawing.DrawingManager(Object.assign(Object.assign({},t||{}),{map:d}));return e&&E.setDrawingMode(e),n&&L(google.maps.event.addListener(E,"circlecomplete",n)),s&&b(google.maps.event.addListener(E,"markercomplete",s)),i&&v(google.maps.event.addListener(E,"overlaycomplete",i)),r&&p(google.maps.event.addListener(E,"polygoncomplete",r)),a&&I(google.maps.event.addListener(E,"polylinecomplete",a)),c&&x(google.maps.event.addListener(E,"rectanglecomplete",c)),m(E),l&&l(E),()=>{f!==null&&(h&&google.maps.event.removeListener(h),y&&google.maps.event.removeListener(y),w&&google.maps.event.removeListener(w),g&&google.maps.event.removeListener(g),_&&google.maps.event.removeListener(_),k&&google.maps.event.removeListener(k),u&&u(f),f.setMap(null))}},[]),null}o.memo(Uo);class $o extends o.PureComponent{constructor(e){super(e),this.registeredEvents=[],this.state={drawingManager:null},this.setDrawingManagerCallback=()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)},ie(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){const e=new google.maps.drawing.DrawingManager(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=F({updaterMap:Ms,eventMap:Ts,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(W(this.registeredEvents),this.registeredEvents=F({updaterMap:Ms,eventMap:Ts,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),W(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}$o.contextType=V;const Ps={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Os={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Xt={};function jo({position:t,options:e,clusterer:n,noClustererRedraw:s,children:i,draggable:r,visible:a,animation:c,clickable:l,cursor:u,icon:d,label:f,opacity:m,shape:h,title:L,zIndex:y,onClick:b,onDblClick:w,onDrag:v,onDragEnd:g,onDragStart:p,onMouseOut:_,onMouseOver:I,onMouseUp:k,onMouseDown:x,onRightClick:E,onClickableChanged:C,onCursorChanged:T,onAnimationChanged:O,onDraggableChanged:$,onFlatChanged:R,onIconChanged:G,onPositionChanged:H,onShapeChanged:N,onTitleChanged:M,onVisibleChanged:B,onZindexChanged:U,onLoad:Z,onUnmount:K}){const P=o.useContext(V),[S,ne]=o.useState(null),[Q,z]=o.useState(null),[A,Y]=o.useState(null),[q,he]=o.useState(null),[ye,lt]=o.useState(null),[X,ss]=o.useState(null),[Mt,is]=o.useState(null),[Pt,rs]=o.useState(null),[Ot,os]=o.useState(null),[Rt,as]=o.useState(null),[ls,cs]=o.useState(null),[At,us]=o.useState(null),[Dt,ds]=o.useState(null),[Nt,hs]=o.useState(null),[Bt,fs]=o.useState(null),[Ut,ps]=o.useState(null),[$t,gs]=o.useState(null),[jt,ms]=o.useState(null),[vs,ys]=o.useState(null),[zt,Ls]=o.useState(null),[Vt,bs]=o.useState(null),[Ft,Es]=o.useState(null);o.useEffect(()=>{S!==null&&S.setMap(P)},[P]),o.useEffect(()=>{typeof e<"u"&&S!==null&&S.setOptions(e)},[S,e]),o.useEffect(()=>{typeof r<"u"&&S!==null&&S.setDraggable(r)},[S,r]),o.useEffect(()=>{t&&S!==null&&S.setPosition(t)},[S,t]),o.useEffect(()=>{typeof a<"u"&&S!==null&&S.setVisible(a)},[S,a]),o.useEffect(()=>{c&&S!==null&&S.setAnimation(c)},[S,c]),o.useEffect(()=>{S&&w&&(Q!==null&&google.maps.event.removeListener(Q),z(google.maps.event.addListener(S,"dblclick",w)))},[w]),o.useEffect(()=>{S&&g&&(A!==null&&google.maps.event.removeListener(A),Y(google.maps.event.addListener(S,"dragend",g)))},[g]),o.useEffect(()=>{S&&p&&(q!==null&&google.maps.event.removeListener(q),he(google.maps.event.addListener(S,"dragstart",p)))},[p]),o.useEffect(()=>{S&&x&&(ye!==null&&google.maps.event.removeListener(ye),lt(google.maps.event.addListener(S,"mousedown",x)))},[x]),o.useEffect(()=>{S&&_&&(X!==null&&google.maps.event.removeListener(X),ss(google.maps.event.addListener(S,"mouseout",_)))},[_]),o.useEffect(()=>{S&&I&&(Mt!==null&&google.maps.event.removeListener(Mt),is(google.maps.event.addListener(S,"mouseover",I)))},[I]),o.useEffect(()=>{S&&k&&(Pt!==null&&google.maps.event.removeListener(Pt),rs(google.maps.event.addListener(S,"mouseup",k)))},[k]),o.useEffect(()=>{S&&E&&(Ot!==null&&google.maps.event.removeListener(Ot),os(google.maps.event.addListener(S,"rightclick",E)))},[E]),o.useEffect(()=>{S&&b&&(Rt!==null&&google.maps.event.removeListener(Rt),as(google.maps.event.addListener(S,"click",b)))},[b]),o.useEffect(()=>{S&&v&&(ls!==null&&google.maps.event.removeListener(ls),cs(google.maps.event.addListener(S,"drag",v)))},[v]),o.useEffect(()=>{S&&C&&(At!==null&&google.maps.event.removeListener(At),us(google.maps.event.addListener(S,"clickable_changed",C)))},[C]),o.useEffect(()=>{S&&T&&(Dt!==null&&google.maps.event.removeListener(Dt),ds(google.maps.event.addListener(S,"cursor_changed",T)))},[T]),o.useEffect(()=>{S&&O&&(Nt!==null&&google.maps.event.removeListener(Nt),hs(google.maps.event.addListener(S,"animation_changed",O)))},[O]),o.useEffect(()=>{S&&$&&(Bt!==null&&google.maps.event.removeListener(Bt),fs(google.maps.event.addListener(S,"draggable_changed",$)))},[$]),o.useEffect(()=>{S&&R&&(Ut!==null&&google.maps.event.removeListener(Ut),ps(google.maps.event.addListener(S,"flat_changed",R)))},[R]),o.useEffect(()=>{S&&G&&($t!==null&&google.maps.event.removeListener($t),gs(google.maps.event.addListener(S,"icon_changed",G)))},[G]),o.useEffect(()=>{S&&H&&(jt!==null&&google.maps.event.removeListener(jt),ms(google.maps.event.addListener(S,"position_changed",H)))},[H]),o.useEffect(()=>{S&&N&&(vs!==null&&google.maps.event.removeListener(vs),ys(google.maps.event.addListener(S,"shape_changed",N)))},[N]),o.useEffect(()=>{S&&M&&(zt!==null&&google.maps.event.removeListener(zt),Ls(google.maps.event.addListener(S,"title_changed",M)))},[M]),o.useEffect(()=>{S&&B&&(Vt!==null&&google.maps.event.removeListener(Vt),bs(google.maps.event.addListener(S,"visible_changed",B)))},[B]),o.useEffect(()=>{S&&U&&(Ft!==null&&google.maps.event.removeListener(Ft),Es(google.maps.event.addListener(S,"zindex_changed",U)))},[U]),o.useEffect(()=>{const ct=Object.assign(Object.assign(Object.assign({},e||Xt),n?Xt:{map:P}),{position:t}),j=new google.maps.Marker(ct);return n?n.addMarker(j,!!s):j.setMap(P),t&&j.setPosition(t),typeof a<"u"&&j.setVisible(a),typeof r<"u"&&j.setDraggable(r),typeof l<"u"&&j.setClickable(l),typeof u=="string"&&j.setCursor(u),d&&j.setIcon(d),typeof f<"u"&&j.setLabel(f),typeof m<"u"&&j.setOpacity(m),h&&j.setShape(h),typeof L=="string"&&j.setTitle(L),typeof y=="number"&&j.setZIndex(y),w&&z(google.maps.event.addListener(j,"dblclick",w)),g&&Y(google.maps.event.addListener(j,"dragend",g)),p&&he(google.maps.event.addListener(j,"dragstart",p)),x&&lt(google.maps.event.addListener(j,"mousedown",x)),_&&ss(google.maps.event.addListener(j,"mouseout",_)),I&&is(google.maps.event.addListener(j,"mouseover",I)),k&&rs(google.maps.event.addListener(j,"mouseup",k)),E&&os(google.maps.event.addListener(j,"rightclick",E)),b&&as(google.maps.event.addListener(j,"click",b)),v&&cs(google.maps.event.addListener(j,"drag",v)),C&&us(google.maps.event.addListener(j,"clickable_changed",C)),T&&ds(google.maps.event.addListener(j,"cursor_changed",T)),O&&hs(google.maps.event.addListener(j,"animation_changed",O)),$&&fs(google.maps.event.addListener(j,"draggable_changed",$)),R&&ps(google.maps.event.addListener(j,"flat_changed",R)),G&&gs(google.maps.event.addListener(j,"icon_changed",G)),H&&ms(google.maps.event.addListener(j,"position_changed",H)),N&&ys(google.maps.event.addListener(j,"shape_changed",N)),M&&Ls(google.maps.event.addListener(j,"title_changed",M)),B&&bs(google.maps.event.addListener(j,"visible_changed",B)),U&&Es(google.maps.event.addListener(j,"zindex_changed",U)),ne(j),Z&&Z(j),()=>{Q!==null&&google.maps.event.removeListener(Q),A!==null&&google.maps.event.removeListener(A),q!==null&&google.maps.event.removeListener(q),ye!==null&&google.maps.event.removeListener(ye),X!==null&&google.maps.event.removeListener(X),Mt!==null&&google.maps.event.removeListener(Mt),Pt!==null&&google.maps.event.removeListener(Pt),Ot!==null&&google.maps.event.removeListener(Ot),Rt!==null&&google.maps.event.removeListener(Rt),At!==null&&google.maps.event.removeListener(At),Dt!==null&&google.maps.event.removeListener(Dt),Nt!==null&&google.maps.event.removeListener(Nt),Bt!==null&&google.maps.event.removeListener(Bt),Ut!==null&&google.maps.event.removeListener(Ut),$t!==null&&google.maps.event.removeListener($t),jt!==null&&google.maps.event.removeListener(jt),zt!==null&&google.maps.event.removeListener(zt),Vt!==null&&google.maps.event.removeListener(Vt),Ft!==null&&google.maps.event.removeListener(Ft),K&&K(j),n?n.removeMarker(j,!!s):j&&j.setMap(null)}},[]);const ho=o.useMemo(()=>i?o.Children.map(i,ct=>{if(!o.isValidElement(ct))return ct;const j=ct;return o.cloneElement(j,{anchor:S})}):null,[i,S]);return se.jsx(se.Fragment,{children:ho})||null}o.memo(jo);class zo extends o.PureComponent{constructor(){super(...arguments),this.registeredEvents=[]}componentDidMount(){const e=Object.assign(Object.assign(Object.assign({},this.props.options||Xt),this.props.clusterer?Xt:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(e),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=F({updaterMap:Os,eventMap:Ps,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)}componentDidUpdate(e){this.marker&&(W(this.registeredEvents),this.registeredEvents=F({updaterMap:Os,eventMap:Ps,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),W(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){let e=null;return this.props.children&&(e=o.Children.map(this.props.children,n=>{if(!o.isValidElement(n))return n;const s=n;return o.cloneElement(s,{anchor:this.marker})})),e||null}}zo.contextType=V;var Vo=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var s=n.getMaxZoom(),i=this.cluster.getBounds(),r=n.getMap();r!==null&&"fitBounds"in r&&r.fitBounds(i),this.timeOut=window.setTimeout(function(){var a=n.getMap();if(a!==null){"fitBounds"in a&&a.fitBounds(i);var c=a.getZoom()||0;s!==null&&c>s&&a.setZoom(s+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,s,i;if(this.div&&this.center){var r=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,a=this.backgroundPosition.split(" "),c=parseInt(a[0].replace(/^\s+|\s+$/g,""),10),l=parseInt(a[1].replace(/^\s+|\s+$/g,""),10),u=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(u!==null?"".concat(u.y,"px"):"0","; left: ").concat(u!==null?"".concat(u.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var d=document.createElement("img");d.alt=r,d.src=this.url,d.width=this.width,d.height=this.height,d.setAttribute("style","position: absolute; top: ".concat(l,"px; left: ").concat(c,"px")),this.cluster.getClusterer().enableRetinaIcons||(d.style.clip="rect(-".concat(l,"px, -").concat(c+this.width,"px, -").concat(l+this.height,", -").concat(c,")"));var f=document.createElement("div");f.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((e=this.sums)===null||e===void 0)&&e.text&&(f.innerText="".concat((n=this.sums)===null||n===void 0?void 0:n.text)),!((s=this.sums)===null||s===void 0)&&s.html&&(f.innerHTML="".concat((i=this.sums)===null||i===void 0?void 0:i.html)),this.div.innerHTML="",this.div.appendChild(d),this.div.appendChild(f),this.div.title=r,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),s=n[Math.min(n.length-1,Math.max(0,e.index-1))];this.url=s.url,this.height=s.height,this.width=s.width,s.className&&(this.className="".concat(this.clusterClassName," ").concat(s.className)),this.anchorText=s.anchorText||[0,0],this.anchorIcon=s.anchorIcon||[this.height/2,this.width/2],this.textColor=s.textColor||"black",this.textSize=s.textSize||11,this.textDecoration=s.textDecoration||"none",this.fontWeight=s.fontWeight||"bold",this.fontStyle=s.fontStyle||"normal",this.fontFamily=s.fontFamily||"Arial,sans-serif",this.backgroundPosition=s.backgroundPosition||"0 0"},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),Fo=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Vo(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),s=0;s<n.length;s++){var i=n[s].getPosition();i&&e.extend(i)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var s=e.getPosition();if(s){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+s.lat())/i,(this.center.lng()*(i-1)+s.lng())/i),this.calculateBounds()}}}else{var s=e.getPosition();s&&(this.center=s,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var r=this.markers.length,a=this.markerClusterer.getMaxZoom(),c=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(a!==null&&typeof c<"u"&&c>a)e.getMap()!==this.map&&e.setMap(this.map);else if(r<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(r===this.minClusterSize)for(var l=0;l<r;l++)this.markers[l].setMap(null);else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,s=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(s!==null&&typeof i<"u"&&i>s){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function Ho(t,e){var n=t.length,s=n.toString().length,i=Math.min(s,e);return{text:n.toString(),index:i,title:""}}var Wo=2e3,Go=500,Ko="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",Zo="png",qo=[53,56,66,78,90],Jo="cluster",Qi=function(){function t(e,n,s){n===void 0&&(n=[]),s===void 0&&(s={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.extend=this.extend.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=s.gridSize||60,this.minClusterSize=s.minimumClusterSize||2,this.maxZoom=s.maxZoom||null,this.styles=s.styles||[],this.title=s.title||"",this.zoomOnClick=!0,s.zoomOnClick!==void 0&&(this.zoomOnClick=s.zoomOnClick),this.averageCenter=!1,s.averageCenter!==void 0&&(this.averageCenter=s.averageCenter),this.ignoreHidden=!1,s.ignoreHidden!==void 0&&(this.ignoreHidden=s.ignoreHidden),this.enableRetinaIcons=!1,s.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=s.enableRetinaIcons),this.imagePath=s.imagePath||Ko,this.imageExtension=s.imageExtension||Zo,this.imageSizes=s.imageSizes||qo,this.calculator=s.calculator||Ho,this.batchSize=s.batchSize||Wo,this.batchSizeIE=s.batchSizeIE||Go,this.clusterClass=s.clusterClass||Jo,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0;e<this.markers.length;e++)this.markers[e].getMap()!==this.activeMap&&this.markers[e].setMap(this.activeMap);for(var e=0;e<this.clusters.length;e++)this.clusters[e].remove();this.clusters=[];for(var e=0;e<this.listeners.length;e++)google.maps.event.removeListener(this.listeners[e]);this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e],width:this.imageSizes[e]})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,s=0;s<e.length;s++){var i=e[s].getPosition();i&&n.extend(i)}var r=this.getMap();r!==null&&"fitBounds"in r&&r.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&this.pushMarkerTo(e[s]);n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var s=0;s<this.markers.length;s++)if(e===this.markers[s]){n=s;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var s=this.removeMarker_(e);return!n&&s&&this.repaint(),s},t.prototype.removeMarkers=function(e,n){for(var s=!1,i=0;i<e.length;i++)s=s||this.removeMarker_(e[i]);return!n&&s&&this.repaint(),s},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var s=0;s<e.length;s++)e[s].remove()},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));s!==null&&(s.x+=this.gridSize,s.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),s!==null){var r=n.fromDivPixelToLatLng(s);r!==null&&e.extend(r)}if(i!==null){var a=n.fromDivPixelToLatLng(i);a!==null&&e.extend(a)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0;n<this.clusters.length;n++)this.clusters[n].remove();this.clusters=[];for(var n=0;n<this.markers.length;n++){var s=this.markers[n];s.isAdded=!1,e&&s.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var s=6371,i=(n.lat()-e.lat())*Math.PI/180,r=(n.lng()-e.lng())*Math.PI/180,a=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return s*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},t.prototype.isMarkerInBounds=function(e,n){var s=e.getPosition();return s?n.contains(s):!1},t.prototype.addToClosestCluster=function(e){for(var n,s=4e4,i=null,r=0;r<this.clusters.length;r++){n=this.clusters[r];var a=n.getCenter(),c=e.getPosition();if(a&&c){var l=this.distanceBetweenPoints(a,c);l<s&&(s=l,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new Fo(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var s=this.getMap(),i=s!==null&&("getBounds"in s)?s.getBounds():null,r=(s==null?void 0:s.getZoom())||0,a=r>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),c=this.getExtendedBounds(a),l=Math.min(e+this.batchSize,this.markers.length),u=e;u<l;u++){var d=this.markers[u];!d.isAdded&&this.isMarkerInBounds(d,c)&&(!this.ignoreHidden||this.ignoreHidden&&d.getVisible())&&this.addToClosestCluster(d)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var u=0;u<this.clusters.length;u++)this.clusters[u].updateIcon()}}},t.prototype.extend=function(e,n){return function(i){for(var r in i.prototype)this.prototype[r]=i.prototype[r];return this}.apply(e,[n])},t}();const ue={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},J={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},Yo={};function Xo(t){const{children:e,options:n,averageCenter:s,batchSizeIE:i,calculator:r,clusterClass:a,enableRetinaIcons:c,gridSize:l,ignoreHidden:u,imageExtension:d,imagePath:f,imageSizes:m,maxZoom:h,minimumClusterSize:L,styles:y,title:b,zoomOnClick:w,onClick:v,onClusteringBegin:g,onClusteringEnd:p,onMouseOver:_,onMouseOut:I,onLoad:k,onUnmount:x}=t,[E,C]=o.useState(null),T=o.useContext(V),[O,$]=o.useState(null),[R,G]=o.useState(null),[H,N]=o.useState(null),[M,B]=o.useState(null),[U,Z]=o.useState(null);return o.useEffect(()=>{E&&I&&(M!==null&&google.maps.event.removeListener(M),B(google.maps.event.addListener(E,ue.onMouseOut,I)))},[I]),o.useEffect(()=>{E&&_&&(U!==null&&google.maps.event.removeListener(U),Z(google.maps.event.addListener(E,ue.onMouseOver,_)))},[_]),o.useEffect(()=>{E&&v&&(O!==null&&google.maps.event.removeListener(O),$(google.maps.event.addListener(E,ue.onClick,v)))},[v]),o.useEffect(()=>{E&&g&&(R!==null&&google.maps.event.removeListener(R),G(google.maps.event.addListener(E,ue.onClusteringBegin,g)))},[g]),o.useEffect(()=>{E&&p&&(H!==null&&google.maps.event.removeListener(H),G(google.maps.event.addListener(E,ue.onClusteringEnd,p)))},[p]),o.useEffect(()=>{typeof s<"u"&&E!==null&&J.averageCenter(E,s)},[E,s]),o.useEffect(()=>{typeof i<"u"&&E!==null&&J.batchSizeIE(E,i)},[E,i]),o.useEffect(()=>{typeof r<"u"&&E!==null&&J.calculator(E,r)},[E,r]),o.useEffect(()=>{typeof a<"u"&&E!==null&&J.clusterClass(E,a)},[E,a]),o.useEffect(()=>{typeof c<"u"&&E!==null&&J.enableRetinaIcons(E,c)},[E,c]),o.useEffect(()=>{typeof l<"u"&&E!==null&&J.gridSize(E,l)},[E,l]),o.useEffect(()=>{typeof u<"u"&&E!==null&&J.ignoreHidden(E,u)},[E,u]),o.useEffect(()=>{typeof d<"u"&&E!==null&&J.imageExtension(E,d)},[E,d]),o.useEffect(()=>{typeof f<"u"&&E!==null&&J.imagePath(E,f)},[E,f]),o.useEffect(()=>{typeof m<"u"&&E!==null&&J.imageSizes(E,m)},[E,m]),o.useEffect(()=>{typeof h<"u"&&E!==null&&J.maxZoom(E,h)},[E,h]),o.useEffect(()=>{typeof L<"u"&&E!==null&&J.minimumClusterSize(E,L)},[E,L]),o.useEffect(()=>{typeof y<"u"&&E!==null&&J.styles(E,y)},[E,y]),o.useEffect(()=>{typeof b<"u"&&E!==null&&J.title(E,b)},[E,b]),o.useEffect(()=>{typeof w<"u"&&E!==null&&J.zoomOnClick(E,w)},[E,w]),o.useEffect(()=>{if(!T)return;const K=Object.assign({},n||Yo),P=new Qi(T,[],K);return s&&J.averageCenter(P,s),i&&J.batchSizeIE(P,i),r&&J.calculator(P,r),a&&J.clusterClass(P,a),c&&J.enableRetinaIcons(P,c),l&&J.gridSize(P,l),u&&J.ignoreHidden(P,u),d&&J.imageExtension(P,d),f&&J.imagePath(P,f),m&&J.imageSizes(P,m),h&&J.maxZoom(P,h),L&&J.minimumClusterSize(P,L),y&&J.styles(P,y),b&&J.title(P,b),w&&J.zoomOnClick(P,w),I&&B(google.maps.event.addListener(P,ue.onMouseOut,I)),_&&Z(google.maps.event.addListener(P,ue.onMouseOver,_)),v&&$(google.maps.event.addListener(P,ue.onClick,v)),g&&G(google.maps.event.addListener(P,ue.onClusteringBegin,g)),p&&N(google.maps.event.addListener(P,ue.onClusteringEnd,p)),C(P),k&&k(P),()=>{M!==null&&google.maps.event.removeListener(M),U!==null&&google.maps.event.removeListener(U),O!==null&&google.maps.event.removeListener(O),R!==null&&google.maps.event.removeListener(R),H!==null&&google.maps.event.removeListener(H),x&&x(P)}},[]),E!==null&&e(E)||null}o.memo(Xo);class Qo extends o.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={markerClusterer:null},this.setClustererCallback=()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)}}componentDidMount(){if(this.context){const e=new Qi(this.context,[],this.props.options);this.registeredEvents=F({updaterMap:J,eventMap:ue,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(W(this.registeredEvents),this.registeredEvents=F({updaterMap:J,eventMap:ue,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),W(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}Qo.contextType=V;function Rs(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var er=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(c){c.returnValue=!1,c.preventDefault&&c.preventDefault(),e.enableEventPropagation||Rs(c)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var s=this.getPanes();if(s!==null&&s[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],a=0;a<r.length;a++)this.eventListeners.push(google.maps.event.addListener(this.div,r[a],Rs));this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var s=0,i=0,r=n.getBounds();r&&!r.contains(this.position)&&n.setCenter(this.position);var a=n.getDiv(),c=a.offsetWidth,l=a.offsetHeight,u=this.pixelOffset.width,d=this.pixelOffset.height,f=this.div.offsetWidth,m=this.div.offsetHeight,h=this.infoBoxClearance.width,L=this.infoBoxClearance.height,y=this.getProjection(),b=y.fromLatLngToContainerPixel(this.position);b!==null&&(b.x<-u+h?s=b.x+u-h:b.x+f+u+h>c&&(s=b.x+f+u+h-c),this.alignBottom?b.y<-d+L+m?i=b.y+d-L-m:b.y+d+L>l&&(i=b.y+d+L-l):b.y<-d+L?i=b.y+d-L:b.y+m+d+L>l&&(i=b.y+m+d+L-l)),s===0&&i===0||n.panBy(s,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var s=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+s*100+')"',this.div.style.filter="alpha(opacity="+s*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,s=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var s=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();s.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){s.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0;e<this.eventListeners.length;e++)google.maps.event.removeListener(this.eventListeners[e]);this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return function(i){for(var r in i.prototype)Object.prototype.hasOwnProperty.call(this,r)||(this.prototype[r]=i.prototype[r]);return this}.apply(e,[n])},t}();const As={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Ds={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},ea={};function ta({children:t,anchor:e,options:n,position:s,zIndex:i,onCloseClick:r,onDomReady:a,onContentChanged:c,onPositionChanged:l,onZindexChanged:u,onLoad:d,onUnmount:f}){const m=o.useContext(V),[h,L]=o.useState(null),[y,b]=o.useState(null),[w,v]=o.useState(null),[g,p]=o.useState(null),[_,I]=o.useState(null),[k,x]=o.useState(null),E=o.useRef(null);return o.useEffect(()=>{m&&h!==null&&(h.close(),e?h.open(m,e):h.getPosition()&&h.open(m))},[m,h,e]),o.useEffect(()=>{n&&h!==null&&h.setOptions(n)},[h,n]),o.useEffect(()=>{if(s&&h!==null){const C=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);h.setPosition(C)}},[s]),o.useEffect(()=>{typeof i=="number"&&h!==null&&h.setZIndex(i)},[i]),o.useEffect(()=>{h&&r&&(y!==null&&google.maps.event.removeListener(y),b(google.maps.event.addListener(h,"closeclick",r)))},[r]),o.useEffect(()=>{h&&a&&(w!==null&&google.maps.event.removeListener(w),v(google.maps.event.addListener(h,"domready",a)))},[a]),o.useEffect(()=>{h&&c&&(g!==null&&google.maps.event.removeListener(g),p(google.maps.event.addListener(h,"content_changed",c)))},[c]),o.useEffect(()=>{h&&l&&(_!==null&&google.maps.event.removeListener(_),I(google.maps.event.addListener(h,"position_changed",l)))},[l]),o.useEffect(()=>{h&&u&&(k!==null&&google.maps.event.removeListener(k),x(google.maps.event.addListener(h,"zindex_changed",u)))},[u]),o.useEffect(()=>{if(m){const C=n||ea,{position:T}=C,O=An(C,["position"]);let $;T&&!(T instanceof google.maps.LatLng)&&($=new google.maps.LatLng(T.lat,T.lng));const R=new er(Object.assign(Object.assign({},O),$?{position:$}:{}));E.current=document.createElement("div"),L(R),r&&b(google.maps.event.addListener(R,"closeclick",r)),a&&v(google.maps.event.addListener(R,"domready",a)),c&&p(google.maps.event.addListener(R,"content_changed",c)),l&&I(google.maps.event.addListener(R,"position_changed",l)),u&&x(google.maps.event.addListener(R,"zindex_changed",u)),R.setContent(E.current),e?R.open(m,e):R.getPosition()?R.open(m):ie(!1,"You must provide either an anchor or a position prop for <InfoBox>."),d&&d(R)}return()=>{h!==null&&(y&&google.maps.event.removeListener(y),g&&google.maps.event.removeListener(g),w&&google.maps.event.removeListener(w),_&&google.maps.event.removeListener(_),k&&google.maps.event.removeListener(k),f&&f(h),h.close())}},[]),E.current?Ke.createPortal(o.Children.only(t),E.current):null}o.memo(ta);class na extends o.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.containerElement=null,this.state={infoBox:null},this.open=(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):ie(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},this.setInfoBoxCallback=()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))}}componentDidMount(){const e=this.props.options||{},{position:n}=e,s=An(e,["position"]);let i;n&&!(n instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(n.lat,n.lng));const r=new er(Object.assign(Object.assign({},s),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=F({updaterMap:Ds,eventMap:As,prevProps:{},nextProps:this.props,instance:r}),this.setState({infoBox:r},this.setInfoBoxCallback)}componentDidUpdate(e){const{infoBox:n}=this.state;n!==null&&(W(this.registeredEvents),this.registeredEvents=F({updaterMap:Ds,eventMap:As,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){const{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),W(this.registeredEvents),n.close())}render(){return this.containerElement?Ke.createPortal(o.Children.only(this.props.children),this.containerElement):null}}na.contextType=V;var Ns=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var s,i,r;if(Array.isArray(e)){if(s=e.length,s!=n.length)return!1;for(i=s;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(r=Object.keys(e),s=r.length,s!==Object.keys(n).length)return!1;for(i=s;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,r[i]))return!1;for(i=s;i--!==0;){var a=r[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n},tr={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(yo,function(){function n(m,h,L,y,b,w){if(!(b-y<=L)){var v=y+b>>1;s(m,h,v,y,b,w%2),n(m,h,L,y,v-1,w+1),n(m,h,L,v+1,b,w+1)}}function s(m,h,L,y,b,w){for(;b>y;){if(b-y>600){var v=b-y+1,g=L-y+1,p=Math.log(v),_=.5*Math.exp(2*p/3),I=.5*Math.sqrt(p*_*(v-_)/v)*(g-v/2<0?-1:1),k=Math.max(y,Math.floor(L-g*_/v+I)),x=Math.min(b,Math.floor(L+(v-g)*_/v+I));s(m,h,L,k,x,w)}var E=h[2*L+w],C=y,T=b;for(i(m,h,y,L),h[2*b+w]>E&&i(m,h,y,b);C<T;){for(i(m,h,C,T),C++,T--;h[2*C+w]<E;)C++;for(;h[2*T+w]>E;)T--}h[2*y+w]===E?i(m,h,y,T):(T++,i(m,h,T,b)),T<=L&&(y=T+1),L<=T&&(b=T-1)}}function i(m,h,L,y){r(m,L,y),r(h,2*L,2*y),r(h,2*L+1,2*y+1)}function r(m,h,L){var y=m[h];m[h]=m[L],m[L]=y}function a(m,h,L,y,b,w,v){for(var g=[0,m.length-1,0],p=[],_,I;g.length;){var k=g.pop(),x=g.pop(),E=g.pop();if(x-E<=v){for(var C=E;C<=x;C++)_=h[2*C],I=h[2*C+1],_>=L&&_<=b&&I>=y&&I<=w&&p.push(m[C]);continue}var T=Math.floor((E+x)/2);_=h[2*T],I=h[2*T+1],_>=L&&_<=b&&I>=y&&I<=w&&p.push(m[T]);var O=(k+1)%2;(k===0?L<=_:y<=I)&&(g.push(E),g.push(T-1),g.push(O)),(k===0?b>=_:w>=I)&&(g.push(T+1),g.push(x),g.push(O))}return p}function c(m,h,L,y,b,w){for(var v=[0,m.length-1,0],g=[],p=b*b;v.length;){var _=v.pop(),I=v.pop(),k=v.pop();if(I-k<=w){for(var x=k;x<=I;x++)l(h[2*x],h[2*x+1],L,y)<=p&&g.push(m[x]);continue}var E=Math.floor((k+I)/2),C=h[2*E],T=h[2*E+1];l(C,T,L,y)<=p&&g.push(m[E]);var O=(_+1)%2;(_===0?L-b<=C:y-b<=T)&&(v.push(k),v.push(E-1),v.push(O)),(_===0?L+b>=C:y+b>=T)&&(v.push(E+1),v.push(I),v.push(O))}return g}function l(m,h,L,y){var b=m-L,w=h-y;return b*b+w*w}var u=function(m){return m[0]},d=function(m){return m[1]},f=function(h,L,y,b,w){L===void 0&&(L=u),y===void 0&&(y=d),b===void 0&&(b=64),w===void 0&&(w=Float64Array),this.nodeSize=b,this.points=h;for(var v=h.length<65536?Uint16Array:Uint32Array,g=this.ids=new v(h.length),p=this.coords=new w(h.length*2),_=0;_<h.length;_++)g[_]=_,p[2*_]=L(h[_]),p[2*_+1]=y(h[_]);n(g,p,b,0,g.length-1,0)};return f.prototype.range=function(h,L,y,b){return a(this.ids,this.coords,h,L,y,b,this.nodeSize)},f.prototype.within=function(h,L,y){return c(this.ids,this.coords,h,L,y,this.nodeSize)},f})})(tr);var Bs=tr.exports;const sa={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},Qt=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1));class ia{constructor(e){this.options=ft(Object.create(sa),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:n,minZoom:s,maxZoom:i,nodeSize:r}=this.options;n&&console.time("total time");const a=`prepare ${e.length} points`;n&&console.time(a),this.points=e;let c=[];for(let l=0;l<e.length;l++)e[l].geometry&&c.push(oa(e[l],l));this.trees[i+1]=new Bs(c,$s,js,r,Float32Array),n&&console.timeEnd(a);for(let l=i;l>=s;l--){const u=+Date.now();c=this._cluster(c,l),this.trees[l]=new Bs(c,$s,js,r,Float32Array),n&&console.log("z%d: %d clusters in %dms",l,c.length,+Date.now()-u)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let s=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let r=e[2]===180?180:((e[2]+180)%360+360)%360-180;const a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)s=-180,r=180;else if(s>r){const d=this.getClusters([s,i,180,a],n),f=this.getClusters([-180,i,r,a],n);return d.concat(f)}const c=this.trees[this._limitZoom(n)],l=c.range(Wt(s),Gt(a),Wt(r),Gt(i)),u=[];for(const d of l){const f=c.points[d];u.push(f.numPoints?Us(f):this.points[f.index])}return u}getChildren(e){const n=this._getOriginId(e),s=this._getOriginZoom(e),i="No cluster with the specified id.",r=this.trees[s];if(!r)throw new Error(i);const a=r.points[n];if(!a)throw new Error(i);const c=this.options.radius/(this.options.extent*Math.pow(2,s-1)),l=r.within(a.x,a.y,c),u=[];for(const d of l){const f=r.points[d];f.parentId===e&&u.push(f.numPoints?Us(f):this.points[f.index])}if(u.length===0)throw new Error(i);return u}getLeaves(e,n,s){n=n||10,s=s||0;const i=[];return this._appendLeaves(i,e,n,s,0),i}getTile(e,n,s){const i=this.trees[this._limitZoom(e)],r=Math.pow(2,e),{extent:a,radius:c}=this.options,l=c/a,u=(s-l)/r,d=(s+1+l)/r,f={features:[]};return this._addTileFeatures(i.range((n-l)/r,u,(n+1+l)/r,d),i.points,n,s,r,f),n===0&&this._addTileFeatures(i.range(1-l/r,u,1,d),i.points,r,s,r,f),n===r-1&&this._addTileFeatures(i.range(0,u,l/r,d),i.points,-1,s,r,f),f.features.length?f:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const s=this.getChildren(e);if(n++,s.length!==1)break;e=s[0].properties.cluster_id}return n}_appendLeaves(e,n,s,i,r){const a=this.getChildren(n);for(const c of a){const l=c.properties;if(l&&l.cluster?r+l.point_count<=i?r+=l.point_count:r=this._appendLeaves(e,l.cluster_id,s,i,r):r<i?r++:e.push(c),e.length===s)break}return r}_addTileFeatures(e,n,s,i,r,a){for(const c of e){const l=n[c],u=l.numPoints;let d,f,m;if(u)d=nr(l),f=l.x,m=l.y;else{const y=this.points[l.index];d=y.properties,f=Wt(y.geometry.coordinates[0]),m=Gt(y.geometry.coordinates[1])}const h={type:1,geometry:[[Math.round(this.options.extent*(f*r-s)),Math.round(this.options.extent*(m*r-i))]],tags:d};let L;u?L=l.id:this.options.generateId?L=l.index:this.points[l.index].id&&(L=this.points[l.index].id),L!==void 0&&(h.id=L),a.features.push(h)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))}_cluster(e,n){const s=[],{radius:i,extent:r,reduce:a,minPoints:c}=this.options,l=i/(r*Math.pow(2,n));for(let u=0;u<e.length;u++){const d=e[u];if(d.zoom<=n)continue;d.zoom=n;const f=this.trees[n+1],m=f.within(d.x,d.y,l),h=d.numPoints||1;let L=h;for(const y of m){const b=f.points[y];b.zoom>n&&(L+=b.numPoints||1)}if(L>h&&L>=c){let y=d.x*h,b=d.y*h,w=a&&h>1?this._map(d,!0):null;const v=(u<<5)+(n+1)+this.points.length;for(const g of m){const p=f.points[g];if(p.zoom<=n)continue;p.zoom=n;const _=p.numPoints||1;y+=p.x*_,b+=p.y*_,p.parentId=v,a&&(w||(w=this._map(d,!0)),a(w,this._map(p)))}d.parentId=v,s.push(ra(y/L,b/L,v,L,w))}else if(s.push(d),L>1)for(const y of m){const b=f.points[y];b.zoom<=n||(b.zoom=n,s.push(b))}}return s}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n){if(e.numPoints)return n?ft({},e.properties):e.properties;const s=this.points[e.index].properties,i=this.options.map(s);return n&&i===s?ft({},i):i}}function ra(t,e,n,s,i){return{x:Qt(t),y:Qt(e),zoom:1/0,id:n,parentId:-1,numPoints:s,properties:i}}function oa(t,e){const[n,s]=t.geometry.coordinates;return{x:Qt(Wt(n)),y:Qt(Gt(s)),zoom:1/0,index:e,parentId:-1}}function Us(t){return{type:"Feature",id:t.id,properties:nr(t),geometry:{type:"Point",coordinates:[aa(t.x),la(t.y)]}}}function nr(t){const e=t.numPoints,n=e>=1e4?`${Math.round(e/1e3)}k`:e>=1e3?`${Math.round(e/100)/10}k`:e;return ft(ft({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function Wt(t){return t/360+.5}function Gt(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function aa(t){return(t-.5)*360}function la(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function ft(t,e){for(const n in e)t[n]=e[n];return t}function $s(t){return t.x}function js(t){return t.y}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ca(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}class _n{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(!(this.markers.length===0&&!this._position))return this.markers.reduce((e,n)=>e.extend(n.getPosition()),new google.maps.LatLngBounds(this._position,this._position))}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>e.getVisible()).length}push(e){this.markers.push(e)}delete(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}class ua{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return da(e)}}const da=t=>t.map(n=>new _n({position:n.getPosition(),markers:[n]}));class ha extends ua{constructor(e){var{maxZoom:n,radius:s=60}=e,i=ca(e,["maxZoom","radius"]);super({maxZoom:n}),this.superCluster=new ia(Object.assign({maxZoom:this.maxZoom,radius:s},i)),this.state={zoom:null}}calculate(e){let n=!1;if(!Ns(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(r=>({type:"Feature",geometry:{type:"Point",coordinates:[r.getPosition().lng(),r.getPosition().lat()]},properties:{marker:r}}));this.superCluster.load(i)}const s={zoom:e.map.getZoom()};return n||this.state.zoom>this.maxZoom&&s.zoom>this.maxZoom||(n=n||!Ns(this.state,s)),this.state=s,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(this.transformCluster.bind(this))}transformCluster({geometry:{coordinates:[e,n]},properties:s}){if(s.cluster)return new _n({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(i=>i.properties.marker),position:new google.maps.LatLng({lat:n,lng:e})});{const i=s.marker;return new _n({markers:[i],position:i.getPosition()})}}}class fa{constructor(e,n){this.markers={sum:e.length};const s=n.map(r=>r.count),i=s.reduce((r,a)=>r+a,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...s),max:Math.max(...s)}}}}class pa{render({count:e,position:n},s){const i=e>Math.max(10,s.clusters.markers.mean)?"#ff0000":"#0000ff",r=window.btoa(`
  <svg fill="${i}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">
    <circle cx="120" cy="120" opacity=".6" r="70" />
    <circle cx="120" cy="120" opacity=".3" r="90" />
    <circle cx="120" cy="120" opacity=".2" r="110" />
  </svg>`);return new google.maps.Marker({position:n,icon:{url:`data:image/svg+xml;base64,${r}`,scaledSize:new google.maps.Size(45,45)},label:{text:String(e),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:`Cluster of ${e} markers`,zIndex:Number(google.maps.Marker.MAX_ZINDEX)+e})}}function ga(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class Dn{constructor(){ga(Dn,google.maps.OverlayView)}}var pt;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(pt||(pt={}));const ma=(t,e,n)=>{n.fitBounds(e.bounds)};class va extends Dn{constructor({map:e,markers:n=[],algorithm:s=new ha({}),renderer:i=new pa,onClusterClick:r=ma}){super(),this.markers=[...n],this.clusters=[],this.algorithm=s,this.renderer=i,this.onClusterClick=r,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(s=>{this.addMarker(s,!0)}),n||this.render()}removeMarker(e,n){const s=this.markers.indexOf(e);return s===-1?!1:(e.setMap(null),this.markers.splice(s,1),n||this.render(),!0)}removeMarkers(e,n){let s=!1;return e.forEach(i=>{s=this.removeMarker(i,!0)||s}),s&&!n&&this.render(),s}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,pt.CLUSTERING_BEGIN,this);const{clusters:n,changed:s}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});(s||s==null)&&(this.reset(),this.clusters=n,this.renderClusters()),google.maps.event.trigger(this,pt.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>e.setMap(null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new fa(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(s=>{s.markers.length===1?s.marker=s.markers[0]:(s.marker=this.renderer.render(s,e),this.onClusterClick&&s.marker.addListener("click",i=>{google.maps.event.trigger(this,pt.CLUSTER_CLICK,s),this.onClusterClick(i,s,n)})),s.marker.setMap(n)})}}function ya(t){const e=bo(),[n,s]=o.useState(null);return o.useEffect(()=>{if(e&&n===null){const i=new va(Object.assign(Object.assign({},t),{map:e}));s(i)}},[e]),n}function La({children:t,options:e}){const n=ya(e);return n!==null?t(n):null}o.memo(La);const zs={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Vs={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function ba({children:t,anchor:e,options:n,position:s,zIndex:i,onCloseClick:r,onDomReady:a,onContentChanged:c,onPositionChanged:l,onZindexChanged:u,onLoad:d,onUnmount:f}){const m=o.useContext(V),[h,L]=o.useState(null),[y,b]=o.useState(null),[w,v]=o.useState(null),[g,p]=o.useState(null),[_,I]=o.useState(null),[k,x]=o.useState(null),E=o.useRef(null);return o.useEffect(()=>{h!==null&&(h.close(),e?h.open(m,e):h.getPosition()&&h.open(m))},[m,h,e]),o.useEffect(()=>{n&&h!==null&&h.setOptions(n)},[h,n]),o.useEffect(()=>{s&&h!==null&&h.setPosition(s)},[s]),o.useEffect(()=>{typeof i=="number"&&h!==null&&h.setZIndex(i)},[i]),o.useEffect(()=>{h&&r&&(y!==null&&google.maps.event.removeListener(y),b(google.maps.event.addListener(h,"closeclick",r)))},[r]),o.useEffect(()=>{h&&a&&(w!==null&&google.maps.event.removeListener(w),v(google.maps.event.addListener(h,"domready",a)))},[a]),o.useEffect(()=>{h&&c&&(g!==null&&google.maps.event.removeListener(g),p(google.maps.event.addListener(h,"content_changed",c)))},[c]),o.useEffect(()=>{h&&l&&(_!==null&&google.maps.event.removeListener(_),I(google.maps.event.addListener(h,"position_changed",l)))},[l]),o.useEffect(()=>{h&&u&&(k!==null&&google.maps.event.removeListener(k),x(google.maps.event.addListener(h,"zindex_changed",u)))},[u]),o.useEffect(()=>{const C=new google.maps.InfoWindow(Object.assign({},n||{}));return L(C),E.current=document.createElement("div"),r&&b(google.maps.event.addListener(C,"closeclick",r)),a&&v(google.maps.event.addListener(C,"domready",a)),c&&p(google.maps.event.addListener(C,"content_changed",c)),l&&I(google.maps.event.addListener(C,"position_changed",l)),u&&x(google.maps.event.addListener(C,"zindex_changed",u)),C.setContent(E.current),s&&C.setPosition(s),i&&C.setZIndex(i),e?C.open(m,e):C.getPosition()?C.open(m):ie(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),d&&d(C),()=>{y&&google.maps.event.removeListener(y),g&&google.maps.event.removeListener(g),w&&google.maps.event.removeListener(w),_&&google.maps.event.removeListener(_),k&&google.maps.event.removeListener(k),f&&f(C),C.close()}},[]),E.current?Ke.createPortal(o.Children.only(t),E.current):null}o.memo(ba);class Ea extends o.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.containerElement=null,this.state={infoWindow:null},this.open=(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):ie(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},this.setInfoWindowCallback=()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))}}componentDidMount(){const e=new google.maps.InfoWindow(Object.assign({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=F({updaterMap:Vs,eventMap:zs,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(W(this.registeredEvents),this.registeredEvents=F({updaterMap:Vs,eventMap:zs,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(W(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Ke.createPortal(o.Children.only(this.props.children),this.containerElement):null}}Ea.contextType=V;const Fs={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Hs={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},wa={};function Ia({options:t,draggable:e,editable:n,visible:s,path:i,onDblClick:r,onDragEnd:a,onDragStart:c,onMouseDown:l,onMouseMove:u,onMouseOut:d,onMouseOver:f,onMouseUp:m,onRightClick:h,onClick:L,onDrag:y,onLoad:b,onUnmount:w}){const v=o.useContext(V),[g,p]=o.useState(null),[_,I]=o.useState(null),[k,x]=o.useState(null),[E,C]=o.useState(null),[T,O]=o.useState(null),[$,R]=o.useState(null),[G,H]=o.useState(null),[N,M]=o.useState(null),[B,U]=o.useState(null),[Z,K]=o.useState(null),[P,S]=o.useState(null),[ne,Q]=o.useState(null);return o.useEffect(()=>{g!==null&&g.setMap(v)},[v]),o.useEffect(()=>{typeof t<"u"&&g!==null&&g.setOptions(t)},[g,t]),o.useEffect(()=>{typeof e<"u"&&g!==null&&g.setDraggable(e)},[g,e]),o.useEffect(()=>{typeof n<"u"&&g!==null&&g.setEditable(n)},[g,n]),o.useEffect(()=>{typeof s<"u"&&g!==null&&g.setVisible(s)},[g,s]),o.useEffect(()=>{typeof i<"u"&&g!==null&&g.setPath(i)},[g,i]),o.useEffect(()=>{g&&r&&(_!==null&&google.maps.event.removeListener(_),I(google.maps.event.addListener(g,"dblclick",r)))},[r]),o.useEffect(()=>{g&&a&&(k!==null&&google.maps.event.removeListener(k),x(google.maps.event.addListener(g,"dragend",a)))},[a]),o.useEffect(()=>{g&&c&&(E!==null&&google.maps.event.removeListener(E),C(google.maps.event.addListener(g,"dragstart",c)))},[c]),o.useEffect(()=>{g&&l&&(T!==null&&google.maps.event.removeListener(T),O(google.maps.event.addListener(g,"mousedown",l)))},[l]),o.useEffect(()=>{g&&u&&($!==null&&google.maps.event.removeListener($),R(google.maps.event.addListener(g,"mousemove",u)))},[u]),o.useEffect(()=>{g&&d&&(G!==null&&google.maps.event.removeListener(G),H(google.maps.event.addListener(g,"mouseout",d)))},[d]),o.useEffect(()=>{g&&f&&(N!==null&&google.maps.event.removeListener(N),M(google.maps.event.addListener(g,"mouseover",f)))},[f]),o.useEffect(()=>{g&&m&&(B!==null&&google.maps.event.removeListener(B),U(google.maps.event.addListener(g,"mouseup",m)))},[m]),o.useEffect(()=>{g&&h&&(Z!==null&&google.maps.event.removeListener(Z),K(google.maps.event.addListener(g,"rightclick",h)))},[h]),o.useEffect(()=>{g&&L&&(P!==null&&google.maps.event.removeListener(P),S(google.maps.event.addListener(g,"click",L)))},[L]),o.useEffect(()=>{g&&y&&(ne!==null&&google.maps.event.removeListener(ne),Q(google.maps.event.addListener(g,"drag",y)))},[y]),o.useEffect(()=>{const z=new google.maps.Polyline(Object.assign(Object.assign({},t||wa),{map:v}));return i&&z.setPath(i),typeof s<"u"&&z.setVisible(s),typeof n<"u"&&z.setEditable(n),typeof e<"u"&&z.setDraggable(e),r&&I(google.maps.event.addListener(z,"dblclick",r)),a&&x(google.maps.event.addListener(z,"dragend",a)),c&&C(google.maps.event.addListener(z,"dragstart",c)),l&&O(google.maps.event.addListener(z,"mousedown",l)),u&&R(google.maps.event.addListener(z,"mousemove",u)),d&&H(google.maps.event.addListener(z,"mouseout",d)),f&&M(google.maps.event.addListener(z,"mouseover",f)),m&&U(google.maps.event.addListener(z,"mouseup",m)),h&&K(google.maps.event.addListener(z,"rightclick",h)),L&&S(google.maps.event.addListener(z,"click",L)),y&&Q(google.maps.event.addListener(z,"drag",y)),p(z),b&&b(z),()=>{_!==null&&google.maps.event.removeListener(_),k!==null&&google.maps.event.removeListener(k),E!==null&&google.maps.event.removeListener(E),T!==null&&google.maps.event.removeListener(T),$!==null&&google.maps.event.removeListener($),G!==null&&google.maps.event.removeListener(G),N!==null&&google.maps.event.removeListener(N),B!==null&&google.maps.event.removeListener(B),Z!==null&&google.maps.event.removeListener(Z),P!==null&&google.maps.event.removeListener(P),w&&w(z),z.setMap(null)}},[]),null}o.memo(Ia);class _a extends o.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={polyline:null},this.setPolylineCallback=()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)}}componentDidMount(){const e=new google.maps.Polyline(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=F({updaterMap:Hs,eventMap:Fs,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(W(this.registeredEvents),this.registeredEvents=F({updaterMap:Hs,eventMap:Fs,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),W(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}_a.contextType=V;const Ws={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Gs={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function Sa({options:t,draggable:e,editable:n,visible:s,path:i,paths:r,onDblClick:a,onDragEnd:c,onDragStart:l,onMouseDown:u,onMouseMove:d,onMouseOut:f,onMouseOver:m,onMouseUp:h,onRightClick:L,onClick:y,onDrag:b,onLoad:w,onUnmount:v}){const g=o.useContext(V),[p,_]=o.useState(null),[I,k]=o.useState(null),[x,E]=o.useState(null),[C,T]=o.useState(null),[O,$]=o.useState(null),[R,G]=o.useState(null),[H,N]=o.useState(null),[M,B]=o.useState(null),[U,Z]=o.useState(null),[K,P]=o.useState(null),[S,ne]=o.useState(null),[Q,z]=o.useState(null);return o.useEffect(()=>{p!==null&&p.setMap(g)},[g]),o.useEffect(()=>{typeof t<"u"&&p!==null&&p.setOptions(t)},[p,t]),o.useEffect(()=>{typeof e<"u"&&p!==null&&p.setDraggable(e)},[p,e]),o.useEffect(()=>{typeof n<"u"&&p!==null&&p.setEditable(n)},[p,n]),o.useEffect(()=>{typeof s<"u"&&p!==null&&p.setVisible(s)},[p,s]),o.useEffect(()=>{typeof i<"u"&&p!==null&&p.setPath(i)},[p,i]),o.useEffect(()=>{typeof r<"u"&&p!==null&&p.setPaths(r)},[p,r]),o.useEffect(()=>{p&&a&&(I!==null&&google.maps.event.removeListener(I),k(google.maps.event.addListener(p,"dblclick",a)))},[a]),o.useEffect(()=>{p&&c&&(x!==null&&google.maps.event.removeListener(x),E(google.maps.event.addListener(p,"dragend",c)))},[c]),o.useEffect(()=>{p&&l&&(C!==null&&google.maps.event.removeListener(C),T(google.maps.event.addListener(p,"dragstart",l)))},[l]),o.useEffect(()=>{p&&u&&(O!==null&&google.maps.event.removeListener(O),$(google.maps.event.addListener(p,"mousedown",u)))},[u]),o.useEffect(()=>{p&&d&&(R!==null&&google.maps.event.removeListener(R),G(google.maps.event.addListener(p,"mousemove",d)))},[d]),o.useEffect(()=>{p&&f&&(H!==null&&google.maps.event.removeListener(H),N(google.maps.event.addListener(p,"mouseout",f)))},[f]),o.useEffect(()=>{p&&m&&(M!==null&&google.maps.event.removeListener(M),B(google.maps.event.addListener(p,"mouseover",m)))},[m]),o.useEffect(()=>{p&&h&&(U!==null&&google.maps.event.removeListener(U),Z(google.maps.event.addListener(p,"mouseup",h)))},[h]),o.useEffect(()=>{p&&L&&(K!==null&&google.maps.event.removeListener(K),P(google.maps.event.addListener(p,"rightclick",L)))},[L]),o.useEffect(()=>{p&&y&&(S!==null&&google.maps.event.removeListener(S),ne(google.maps.event.addListener(p,"click",y)))},[y]),o.useEffect(()=>{p&&b&&(Q!==null&&google.maps.event.removeListener(Q),z(google.maps.event.addListener(p,"drag",b)))},[b]),o.useEffect(()=>{const A=new google.maps.Polygon(Object.assign(Object.assign({},t||{}),{map:g}));return i&&A.setPath(i),r&&A.setPaths(r),typeof s<"u"&&A.setVisible(s),typeof n<"u"&&A.setEditable(n),typeof e<"u"&&A.setDraggable(e),a&&k(google.maps.event.addListener(A,"dblclick",a)),c&&E(google.maps.event.addListener(A,"dragend",c)),l&&T(google.maps.event.addListener(A,"dragstart",l)),u&&$(google.maps.event.addListener(A,"mousedown",u)),d&&G(google.maps.event.addListener(A,"mousemove",d)),f&&N(google.maps.event.addListener(A,"mouseout",f)),m&&B(google.maps.event.addListener(A,"mouseover",m)),h&&Z(google.maps.event.addListener(A,"mouseup",h)),L&&P(google.maps.event.addListener(A,"rightclick",L)),y&&ne(google.maps.event.addListener(A,"click",y)),b&&z(google.maps.event.addListener(A,"drag",b)),_(A),w&&w(A),()=>{I!==null&&google.maps.event.removeListener(I),x!==null&&google.maps.event.removeListener(x),C!==null&&google.maps.event.removeListener(C),O!==null&&google.maps.event.removeListener(O),R!==null&&google.maps.event.removeListener(R),H!==null&&google.maps.event.removeListener(H),M!==null&&google.maps.event.removeListener(M),U!==null&&google.maps.event.removeListener(U),K!==null&&google.maps.event.removeListener(K),S!==null&&google.maps.event.removeListener(S),v&&v(A),A.setMap(null)}},[]),null}o.memo(Sa);class Ca extends o.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={polygon:null},this.setPolygonCallback=()=>{this.state.polygon!==null&&this.props.onLoad&&this.props.onLoad(this.state.polygon)}}componentDidMount(){const e=new google.maps.Polygon(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=F({updaterMap:Gs,eventMap:Ws,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polygon:e}},this.setPolygonCallback)}componentDidUpdate(e){this.state.polygon!==null&&(W(this.registeredEvents),this.registeredEvents=F({updaterMap:Gs,eventMap:Ws,prevProps:e,nextProps:this.props,instance:this.state.polygon}))}componentWillUnmount(){this.state.polygon!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),W(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))}render(){return null}}Ca.contextType=V;const Ks={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Zs={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function ka({options:t,bounds:e,draggable:n,editable:s,visible:i,onDblClick:r,onDragEnd:a,onDragStart:c,onMouseDown:l,onMouseMove:u,onMouseOut:d,onMouseOver:f,onMouseUp:m,onRightClick:h,onClick:L,onDrag:y,onBoundsChanged:b,onLoad:w,onUnmount:v}){const g=o.useContext(V),[p,_]=o.useState(null),[I,k]=o.useState(null),[x,E]=o.useState(null),[C,T]=o.useState(null),[O,$]=o.useState(null),[R,G]=o.useState(null),[H,N]=o.useState(null),[M,B]=o.useState(null),[U,Z]=o.useState(null),[K,P]=o.useState(null),[S,ne]=o.useState(null),[Q,z]=o.useState(null),[A,Y]=o.useState(null);return o.useEffect(()=>{p!==null&&p.setMap(g)},[g]),o.useEffect(()=>{typeof t<"u"&&p!==null&&p.setOptions(t)},[p,t]),o.useEffect(()=>{typeof n<"u"&&p!==null&&p.setDraggable(n)},[p,n]),o.useEffect(()=>{typeof s<"u"&&p!==null&&p.setEditable(s)},[p,s]),o.useEffect(()=>{typeof i<"u"&&p!==null&&p.setVisible(i)},[p,i]),o.useEffect(()=>{typeof e<"u"&&p!==null&&p.setBounds(e)},[p,e]),o.useEffect(()=>{p&&r&&(I!==null&&google.maps.event.removeListener(I),k(google.maps.event.addListener(p,"dblclick",r)))},[r]),o.useEffect(()=>{p&&a&&(x!==null&&google.maps.event.removeListener(x),E(google.maps.event.addListener(p,"dragend",a)))},[a]),o.useEffect(()=>{p&&c&&(C!==null&&google.maps.event.removeListener(C),T(google.maps.event.addListener(p,"dragstart",c)))},[c]),o.useEffect(()=>{p&&l&&(O!==null&&google.maps.event.removeListener(O),$(google.maps.event.addListener(p,"mousedown",l)))},[l]),o.useEffect(()=>{p&&u&&(R!==null&&google.maps.event.removeListener(R),G(google.maps.event.addListener(p,"mousemove",u)))},[u]),o.useEffect(()=>{p&&d&&(H!==null&&google.maps.event.removeListener(H),N(google.maps.event.addListener(p,"mouseout",d)))},[d]),o.useEffect(()=>{p&&f&&(M!==null&&google.maps.event.removeListener(M),B(google.maps.event.addListener(p,"mouseover",f)))},[f]),o.useEffect(()=>{p&&m&&(U!==null&&google.maps.event.removeListener(U),Z(google.maps.event.addListener(p,"mouseup",m)))},[m]),o.useEffect(()=>{p&&h&&(K!==null&&google.maps.event.removeListener(K),P(google.maps.event.addListener(p,"rightclick",h)))},[h]),o.useEffect(()=>{p&&L&&(S!==null&&google.maps.event.removeListener(S),ne(google.maps.event.addListener(p,"click",L)))},[L]),o.useEffect(()=>{p&&y&&(Q!==null&&google.maps.event.removeListener(Q),z(google.maps.event.addListener(p,"drag",y)))},[y]),o.useEffect(()=>{p&&b&&(A!==null&&google.maps.event.removeListener(A),Y(google.maps.event.addListener(p,"bounds_changed",b)))},[b]),o.useEffect(()=>{const q=new google.maps.Rectangle(Object.assign(Object.assign({},t||{}),{map:g}));return typeof i<"u"&&q.setVisible(i),typeof s<"u"&&q.setEditable(s),typeof n<"u"&&q.setDraggable(n),typeof e<"u"&&q.setBounds(e),r&&k(google.maps.event.addListener(q,"dblclick",r)),a&&E(google.maps.event.addListener(q,"dragend",a)),c&&T(google.maps.event.addListener(q,"dragstart",c)),l&&$(google.maps.event.addListener(q,"mousedown",l)),u&&G(google.maps.event.addListener(q,"mousemove",u)),d&&N(google.maps.event.addListener(q,"mouseout",d)),f&&B(google.maps.event.addListener(q,"mouseover",f)),m&&Z(google.maps.event.addListener(q,"mouseup",m)),h&&P(google.maps.event.addListener(q,"rightclick",h)),L&&ne(google.maps.event.addListener(q,"click",L)),y&&z(google.maps.event.addListener(q,"drag",y)),b&&Y(google.maps.event.addListener(q,"bounds_changed",b)),_(q),w&&w(q),()=>{I!==null&&google.maps.event.removeListener(I),x!==null&&google.maps.event.removeListener(x),C!==null&&google.maps.event.removeListener(C),O!==null&&google.maps.event.removeListener(O),R!==null&&google.maps.event.removeListener(R),H!==null&&google.maps.event.removeListener(H),M!==null&&google.maps.event.removeListener(M),U!==null&&google.maps.event.removeListener(U),K!==null&&google.maps.event.removeListener(K),S!==null&&google.maps.event.removeListener(S),Q!==null&&google.maps.event.removeListener(Q),A!==null&&google.maps.event.removeListener(A),v&&v(q),q.setMap(null)}},[]),null}o.memo(ka);class xa extends o.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={rectangle:null},this.setRectangleCallback=()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)}}componentDidMount(){const e=new google.maps.Rectangle(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=F({updaterMap:Zs,eventMap:Ks,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(W(this.registeredEvents),this.registeredEvents=F({updaterMap:Zs,eventMap:Ks,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),W(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}xa.contextType=V;const qs={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Js={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},Ta={};function Ma({options:t,center:e,radius:n,draggable:s,editable:i,visible:r,onDblClick:a,onDragEnd:c,onDragStart:l,onMouseDown:u,onMouseMove:d,onMouseOut:f,onMouseOver:m,onMouseUp:h,onRightClick:L,onClick:y,onDrag:b,onCenterChanged:w,onRadiusChanged:v,onLoad:g,onUnmount:p}){const _=o.useContext(V),[I,k]=o.useState(null),[x,E]=o.useState(null),[C,T]=o.useState(null),[O,$]=o.useState(null),[R,G]=o.useState(null),[H,N]=o.useState(null),[M,B]=o.useState(null),[U,Z]=o.useState(null),[K,P]=o.useState(null),[S,ne]=o.useState(null),[Q,z]=o.useState(null),[A,Y]=o.useState(null),[q,he]=o.useState(null),[ye,lt]=o.useState(null);return o.useEffect(()=>{I!==null&&I.setMap(_)},[_]),o.useEffect(()=>{typeof t<"u"&&I!==null&&I.setOptions(t)},[I,t]),o.useEffect(()=>{typeof s<"u"&&I!==null&&I.setDraggable(s)},[I,s]),o.useEffect(()=>{typeof i<"u"&&I!==null&&I.setEditable(i)},[I,i]),o.useEffect(()=>{typeof r<"u"&&I!==null&&I.setVisible(r)},[I,r]),o.useEffect(()=>{typeof n=="number"&&I!==null&&I.setRadius(n)},[I,n]),o.useEffect(()=>{typeof e<"u"&&I!==null&&I.setCenter(e)},[I,e]),o.useEffect(()=>{I&&a&&(x!==null&&google.maps.event.removeListener(x),E(google.maps.event.addListener(I,"dblclick",a)))},[a]),o.useEffect(()=>{I&&c&&(C!==null&&google.maps.event.removeListener(C),T(google.maps.event.addListener(I,"dragend",c)))},[c]),o.useEffect(()=>{I&&l&&(O!==null&&google.maps.event.removeListener(O),$(google.maps.event.addListener(I,"dragstart",l)))},[l]),o.useEffect(()=>{I&&u&&(R!==null&&google.maps.event.removeListener(R),G(google.maps.event.addListener(I,"mousedown",u)))},[u]),o.useEffect(()=>{I&&d&&(H!==null&&google.maps.event.removeListener(H),N(google.maps.event.addListener(I,"mousemove",d)))},[d]),o.useEffect(()=>{I&&f&&(M!==null&&google.maps.event.removeListener(M),B(google.maps.event.addListener(I,"mouseout",f)))},[f]),o.useEffect(()=>{I&&m&&(U!==null&&google.maps.event.removeListener(U),Z(google.maps.event.addListener(I,"mouseover",m)))},[m]),o.useEffect(()=>{I&&h&&(K!==null&&google.maps.event.removeListener(K),P(google.maps.event.addListener(I,"mouseup",h)))},[h]),o.useEffect(()=>{I&&L&&(S!==null&&google.maps.event.removeListener(S),ne(google.maps.event.addListener(I,"rightclick",L)))},[L]),o.useEffect(()=>{I&&y&&(Q!==null&&google.maps.event.removeListener(Q),z(google.maps.event.addListener(I,"click",y)))},[y]),o.useEffect(()=>{I&&b&&(A!==null&&google.maps.event.removeListener(A),Y(google.maps.event.addListener(I,"drag",b)))},[b]),o.useEffect(()=>{I&&w&&(q!==null&&google.maps.event.removeListener(q),he(google.maps.event.addListener(I,"center_changed",w)))},[y]),o.useEffect(()=>{I&&v&&(ye!==null&&google.maps.event.removeListener(ye),lt(google.maps.event.addListener(I,"radius_changed",v)))},[v]),o.useEffect(()=>{const X=new google.maps.Circle(Object.assign(Object.assign({},t||Ta),{map:_}));return typeof n=="number"&&X.setRadius(n),typeof e<"u"&&X.setCenter(e),typeof n=="number"&&X.setRadius(n),typeof r<"u"&&X.setVisible(r),typeof i<"u"&&X.setEditable(i),typeof s<"u"&&X.setDraggable(s),a&&E(google.maps.event.addListener(X,"dblclick",a)),c&&T(google.maps.event.addListener(X,"dragend",c)),l&&$(google.maps.event.addListener(X,"dragstart",l)),u&&G(google.maps.event.addListener(X,"mousedown",u)),d&&N(google.maps.event.addListener(X,"mousemove",d)),f&&B(google.maps.event.addListener(X,"mouseout",f)),m&&Z(google.maps.event.addListener(X,"mouseover",m)),h&&P(google.maps.event.addListener(X,"mouseup",h)),L&&ne(google.maps.event.addListener(X,"rightclick",L)),y&&z(google.maps.event.addListener(X,"click",y)),b&&Y(google.maps.event.addListener(X,"drag",b)),w&&he(google.maps.event.addListener(X,"center_changed",w)),v&&lt(google.maps.event.addListener(X,"radius_changed",v)),k(X),g&&g(X),()=>{x!==null&&google.maps.event.removeListener(x),C!==null&&google.maps.event.removeListener(C),O!==null&&google.maps.event.removeListener(O),R!==null&&google.maps.event.removeListener(R),H!==null&&google.maps.event.removeListener(H),M!==null&&google.maps.event.removeListener(M),U!==null&&google.maps.event.removeListener(U),K!==null&&google.maps.event.removeListener(K),S!==null&&google.maps.event.removeListener(S),Q!==null&&google.maps.event.removeListener(Q),q!==null&&google.maps.event.removeListener(q),ye!==null&&google.maps.event.removeListener(ye),p&&p(X),X.setMap(null)}},[]),null}o.memo(Ma);class Pa extends o.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={circle:null},this.setCircleCallback=()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)}}componentDidMount(){const e=new google.maps.Circle(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=F({updaterMap:Js,eventMap:qs,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(W(this.registeredEvents),this.registeredEvents=F({updaterMap:Js,eventMap:qs,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){this.state.circle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),W(this.registeredEvents),this.state.circle&&this.state.circle.setMap(null))}render(){return null}}Pa.contextType=V;const Ys={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Xs={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,s){t.loadGeoJson(e,n,s)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function Oa({options:t,onClick:e,onDblClick:n,onMouseDown:s,onMouseMove:i,onMouseOut:r,onMouseOver:a,onMouseUp:c,onRightClick:l,onAddFeature:u,onRemoveFeature:d,onRemoveProperty:f,onSetGeometry:m,onSetProperty:h,onLoad:L,onUnmount:y}){const b=o.useContext(V),[w,v]=o.useState(null),[g,p]=o.useState(null),[_,I]=o.useState(null),[k,x]=o.useState(null),[E,C]=o.useState(null),[T,O]=o.useState(null),[$,R]=o.useState(null),[G,H]=o.useState(null),[N,M]=o.useState(null),[B,U]=o.useState(null),[Z,K]=o.useState(null),[P,S]=o.useState(null),[ne,Q]=o.useState(null),[z,A]=o.useState(null);return o.useEffect(()=>{w!==null&&w.setMap(b)},[b]),o.useEffect(()=>{w&&n&&(g!==null&&google.maps.event.removeListener(g),p(google.maps.event.addListener(w,"dblclick",n)))},[n]),o.useEffect(()=>{w&&s&&(_!==null&&google.maps.event.removeListener(_),I(google.maps.event.addListener(w,"mousedown",s)))},[s]),o.useEffect(()=>{w&&i&&(k!==null&&google.maps.event.removeListener(k),x(google.maps.event.addListener(w,"mousemove",i)))},[i]),o.useEffect(()=>{w&&r&&(E!==null&&google.maps.event.removeListener(E),C(google.maps.event.addListener(w,"mouseout",r)))},[r]),o.useEffect(()=>{w&&a&&(T!==null&&google.maps.event.removeListener(T),O(google.maps.event.addListener(w,"mouseover",a)))},[a]),o.useEffect(()=>{w&&c&&($!==null&&google.maps.event.removeListener($),R(google.maps.event.addListener(w,"mouseup",c)))},[c]),o.useEffect(()=>{w&&l&&(G!==null&&google.maps.event.removeListener(G),H(google.maps.event.addListener(w,"rightclick",l)))},[l]),o.useEffect(()=>{w&&e&&(N!==null&&google.maps.event.removeListener(N),M(google.maps.event.addListener(w,"click",e)))},[e]),o.useEffect(()=>{w&&u&&(B!==null&&google.maps.event.removeListener(B),U(google.maps.event.addListener(w,"addfeature",u)))},[u]),o.useEffect(()=>{w&&d&&(Z!==null&&google.maps.event.removeListener(Z),K(google.maps.event.addListener(w,"removefeature",d)))},[d]),o.useEffect(()=>{w&&f&&(P!==null&&google.maps.event.removeListener(P),S(google.maps.event.addListener(w,"removeproperty",f)))},[f]),o.useEffect(()=>{w&&m&&(ne!==null&&google.maps.event.removeListener(ne),Q(google.maps.event.addListener(w,"setgeometry",m)))},[m]),o.useEffect(()=>{w&&h&&(z!==null&&google.maps.event.removeListener(z),A(google.maps.event.addListener(w,"setproperty",h)))},[h]),o.useEffect(()=>{if(b!==null){const Y=new google.maps.Data(Object.assign(Object.assign({},t||{}),{map:b}));n&&p(google.maps.event.addListener(Y,"dblclick",n)),s&&I(google.maps.event.addListener(Y,"mousedown",s)),i&&x(google.maps.event.addListener(Y,"mousemove",i)),r&&C(google.maps.event.addListener(Y,"mouseout",r)),a&&O(google.maps.event.addListener(Y,"mouseover",a)),c&&R(google.maps.event.addListener(Y,"mouseup",c)),l&&H(google.maps.event.addListener(Y,"rightclick",l)),e&&M(google.maps.event.addListener(Y,"click",e)),u&&U(google.maps.event.addListener(Y,"addfeature",u)),d&&K(google.maps.event.addListener(Y,"removefeature",d)),f&&S(google.maps.event.addListener(Y,"removeproperty",f)),m&&Q(google.maps.event.addListener(Y,"setgeometry",m)),h&&A(google.maps.event.addListener(Y,"setproperty",h)),v(Y),L&&L(Y)}return()=>{w&&(g!==null&&google.maps.event.removeListener(g),_!==null&&google.maps.event.removeListener(_),k!==null&&google.maps.event.removeListener(k),E!==null&&google.maps.event.removeListener(E),T!==null&&google.maps.event.removeListener(T),$!==null&&google.maps.event.removeListener($),G!==null&&google.maps.event.removeListener(G),N!==null&&google.maps.event.removeListener(N),B!==null&&google.maps.event.removeListener(B),Z!==null&&google.maps.event.removeListener(Z),P!==null&&google.maps.event.removeListener(P),ne!==null&&google.maps.event.removeListener(ne),z!==null&&google.maps.event.removeListener(z),y&&y(w),w.setMap(null))}},[]),null}o.memo(Oa);class Ra extends o.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={data:null},this.setDataCallback=()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)}}componentDidMount(){if(this.context!==null){const e=new google.maps.Data(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=F({updaterMap:Xs,eventMap:Ys,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(W(this.registeredEvents),this.registeredEvents=F({updaterMap:Xs,eventMap:Ys,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),W(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}Ra.contextType=V;const Qs={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},ei={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class Aa extends o.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={kmlLayer:null},this.setKmlLayerCallback=()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)}}componentDidMount(){const e=new google.maps.KmlLayer(Object.assign(Object.assign({},this.props.options),{map:this.context}));this.registeredEvents=F({updaterMap:ei,eventMap:Qs,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(W(this.registeredEvents),this.registeredEvents=F({updaterMap:ei,eventMap:Qs,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),W(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}Aa.contextType=V;function sr(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function Da(t,e){return new e(t.lat,t.lng)}function Na(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function Ba(t,e,n){return t instanceof e?t:n(t,e)}function Ua(t,e,n){return t instanceof e?t:n(t,e)}function $a(t,e,n){const s=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return s&&i?{left:`${i.x+e.x}px`,top:`${s.y+e.y}px`,width:`${s.x-i.x-e.x}px`,height:`${i.y-s.y-e.y}px`}:{left:"-9999px",top:"-9999px"}}function ja(t,e,n){const s=t&&t.fromLatLngToDivPixel(n);if(s){const{x:i,y:r}=s;return{left:`${i+e.x}px`,top:`${r+e.y}px`}}return{left:"-9999px",top:"-9999px"}}function ir(t,e,n,s){return n!==void 0?$a(t,e,Ua(n,google.maps.LatLngBounds,Na)):ja(t,e,Ba(s,google.maps.LatLng,Da))}function za(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function Va(t,e,n,s,i){class r extends google.maps.OverlayView{constructor(c,l,u,d){super(),this.container=c,this.pane=l,this.position=u,this.bounds=d}onAdd(){var c;const l=(c=this.getPanes())===null||c===void 0?void 0:c[this.pane];l==null||l.appendChild(this.container)}draw(){const c=this.getProjection(),l=Object.assign({},this.container?sr(this.container,i):{x:0,y:0}),u=ir(c,l,this.bounds,this.position);for(const[d,f]of Object.entries(u))this.container.style[d]=f}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new r(t,e,n,s)}function ti(t){return t?(t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng))+"":""}function ni(t){return t?(t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west)))+"":""}function Fa({position:t,bounds:e,mapPaneName:n,zIndex:s,onLoad:i,onUnmount:r,getPixelPositionOffset:a,children:c}){const l=o.useContext(V),u=o.useMemo(()=>{const f=document.createElement("div");return f.style.position="absolute",f},[]),d=o.useMemo(()=>Va(u,n,t,e,a),[u,n,t,e]);return o.useEffect(()=>(i==null||i(d),d==null||d.setMap(l),()=>{r==null||r(d),d==null||d.setMap(null)}),[l,d]),o.useEffect(()=>{u.style.zIndex=`${s}`},[s,u]),Ke.createPortal(c,u)}o.memo(Fa);class rt extends o.PureComponent{constructor(e){super(e),this.state={paneEl:null,containerStyle:{position:"absolute"}},this.updatePane=()=>{const s=this.props.mapPaneName,i=this.overlayView.getPanes();ie(!!s,"OverlayView requires props.mapPaneName but got %s",s),i?this.setState({paneEl:i[s]}):this.setState({paneEl:null})},this.onAdd=()=>{var s,i;this.updatePane(),(i=(s=this.props).onLoad)===null||i===void 0||i.call(s,this.overlayView)},this.onPositionElement=()=>{const s=this.overlayView.getProjection(),i=Object.assign({x:0,y:0},this.containerRef.current?sr(this.containerRef.current,this.props.getPixelPositionOffset):{}),r=ir(s,i,this.props.bounds,this.props.position),{left:a,top:c,width:l,height:u}=this.state.containerStyle;za(r,{left:a,top:c,width:l,height:u})||this.setState({containerStyle:Object.assign(Object.assign({},r),{position:"absolute"})})},this.draw=()=>{this.onPositionElement()},this.onRemove=()=>{var s,i;this.setState(()=>({paneEl:null})),(i=(s=this.props).onUnmount)===null||i===void 0||i.call(s,this.overlayView)},this.containerRef=o.createRef();const n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){const n=ti(e.position),s=ti(this.props.position),i=ni(e.bounds),r=ni(this.props.bounds);(n!==s||i!==r)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){const e=this.state.paneEl;return e?Ke.createPortal(se.jsx("div",Object.assign({ref:this.containerRef,style:this.state.containerStyle},{children:o.Children.only(this.props.children)})),e):null}}rt.FLOAT_PANE="floatPane";rt.MAP_PANE="mapPane";rt.MARKER_LAYER="markerLayer";rt.OVERLAY_LAYER="overlayLayer";rt.OVERLAY_MOUSE_TARGET="overlayMouseTarget";rt.contextType=V;function Ha(){}const si={onDblClick:"dblclick",onClick:"click"},ii={opacity(t,e){t.setOpacity(e)}};function Wa({url:t,bounds:e,options:n,visible:s}){const i=o.useContext(V),r=new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.west),new google.maps.LatLng(e.north,e.east)),a=o.useMemo(()=>new google.maps.GroundOverlay(t,r,Object.assign({},n)),[]);return o.useEffect(()=>{a!==null&&a.setMap(i)},[i]),o.useEffect(()=>{typeof t<"u"&&a!==null&&(a.set("url",t),a.setMap(i))},[a,t]),o.useEffect(()=>{typeof s<"u"&&a!==null&&a.setOpacity(s?1:0)},[a,s]),o.useEffect(()=>{const c=new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.west),new google.maps.LatLng(e.north,e.east));typeof e<"u"&&a!==null&&(a.set("bounds",c),a.setMap(i))},[a,e]),null}o.memo(Wa);class rr extends o.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={groundOverlay:null},this.setGroundOverlayCallback=()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)}}componentDidMount(){ie(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");const e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Object.assign(Object.assign({},this.props.options),{map:this.context}));this.registeredEvents=F({updaterMap:ii,eventMap:si,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(W(this.registeredEvents),this.registeredEvents=F({updaterMap:ii,eventMap:si,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}rr.defaultProps={onLoad:Ha};rr.contextType=V;const ri={},oi={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function Ga({data:t,onLoad:e,onUnmount:n,options:s}){const i=o.useContext(V),[r,a]=o.useState(null);return o.useEffect(()=>{google.maps.visualization||ie(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),o.useEffect(()=>{ie(!!t,"data property is required in HeatmapLayer %s",t)},[t]),o.useEffect(()=>{r!==null&&r.setMap(i)},[i]),o.useEffect(()=>{s&&r!==null&&r.setOptions(s)},[r,s]),o.useEffect(()=>{const c=new google.maps.visualization.HeatmapLayer(Object.assign(Object.assign({},s||{}),{data:t,map:i}));return a(c),e&&e(c),()=>{r!==null&&(n&&n(r),r.setMap(null))}},[]),null}o.memo(Ga);class Ka extends o.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={heatmapLayer:null},this.setHeatmapLayerCallback=()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)}}componentDidMount(){ie(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),ie(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);const e=new google.maps.visualization.HeatmapLayer(Object.assign(Object.assign({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=F({updaterMap:oi,eventMap:ri,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){W(this.registeredEvents),this.registeredEvents=F({updaterMap:oi,eventMap:ri,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),W(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}Ka.contextType=V;const ai={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},li={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class Za extends o.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={streetViewPanorama:null},this.setStreetViewPanoramaCallback=()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)}}componentDidMount(){const e=this.context.getStreetView();this.registeredEvents=F({updaterMap:li,eventMap:ai,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({streetViewPanorama:e}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(W(this.registeredEvents),this.registeredEvents=F({updaterMap:li,eventMap:ai,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),W(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}Za.contextType=V;class qa extends o.PureComponent{constructor(){super(...arguments),this.state={streetViewService:null},this.setStreetViewServiceCallback=()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)}}componentDidMount(){const e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}qa.contextType=V;const ci={onDirectionsChanged:"directions_changed"},ui={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class Ja extends o.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.state={directionsRenderer:null},this.setDirectionsRendererCallback=()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))}}componentDidMount(){const e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=F({updaterMap:ui,eventMap:ci,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(W(this.registeredEvents),this.registeredEvents=F({updaterMap:ui,eventMap:ci,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),W(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return se.jsx(se.Fragment,{})}}Ja.contextType=V;const di={onPlacesChanged:"places_changed"},hi={bounds(t,e){t.setBounds(e)}};class Ya extends o.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.containerElement=o.createRef(),this.state={searchBox:null},this.setSearchBoxCallback=()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)}}componentDidMount(){if(ie(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){const e=this.containerElement.current.querySelector("input");if(e!==null){const n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=F({updaterMap:hi,eventMap:di,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(W(this.registeredEvents),this.registeredEvents=F({updaterMap:hi,eventMap:di,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),W(this.registeredEvents))}render(){return se.jsx("div",Object.assign({ref:this.containerElement},{children:o.Children.only(this.props.children)}))}}Ya.contextType=V;const fi={onPlaceChanged:"place_changed"},pi={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class or extends o.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.containerElement=o.createRef(),this.state={autocomplete:null},this.setAutocompleteCallback=()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)}}componentDidMount(){ie(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);const e=this.containerElement.current.querySelector("input");if(e){const n=new google.maps.places.Autocomplete(e,this.props.options);this.registeredEvents=F({updaterMap:pi,eventMap:fi,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({autocomplete:n}),this.setAutocompleteCallback)}}componentDidUpdate(e){W(this.registeredEvents),this.registeredEvents=F({updaterMap:pi,eventMap:fi,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&W(this.registeredEvents)}render(){return se.jsx("div",Object.assign({ref:this.containerElement,className:this.props.className},{children:o.Children.only(this.props.children)}))}}or.defaultProps={className:""};or.contextType=V;function en(){return en=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},en.apply(this,arguments)}var gi=function(t){var e=o.useRef(t);return e.current=t,e},Xa=function(t,e){var n;return function(){for(var s=this,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];n!==null&&(clearTimeout(n),n=null),n=setTimeout(function(){return t.apply(s,r)},e)}},Qa="💡 use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library",jh=function(e){var n=e===void 0?{}:e,s=n.requestOptions,i=n.debounce,r=i===void 0?200:i,a=n.cache,c=a===void 0?24*60*60:a,l=n.cacheKey,u=n.googleMaps,d=n.callbackName,f=n.defaultValue,m=f===void 0?"":f,h=n.initOnMount,L=h===void 0?!0:h,y=o.useState(!1),b=y[0],w=y[1],v=o.useState(m),g=v[0],p=v[1],_=o.useState({loading:!1,status:"",data:[]}),I=_[0],k=_[1],x=o.useRef(null),E=gi(s),C=gi(u),T=l?"upa-"+l:"upa",O=o.useCallback(function(){var N;if(!x.current){var M=window,B=M.google,U=C.current,Z=(U==null?void 0:U.places)||(B==null||(N=B.maps)==null?void 0:N.places);if(!Z){console.error(Qa);return}x.current=new Z.AutocompleteService,w(!0)}},[]),$=o.useCallback(function(){k({loading:!1,status:"",data:[]})},[]),R=o.useCallback(function(){try{sessionStorage.removeItem(T)}catch{}},[]),G=o.useCallback(Xa(function(N){if(!N){$();return}k(function(B){return en({},B,{loading:!0})});var M={};try{M=JSON.parse(sessionStorage.getItem(T)||"{}")}catch{}if(c&&(M=Object.keys(M).reduce(function(B,U){return M[U].maxAge-Date.now()>=0&&(B[U]=M[U]),B},{}),M[N])){k({loading:!1,status:"OK",data:M[N].data});return}x.current.getPlacePredictions(en({},E.current,{input:N}),function(B,U){if(k({loading:!1,status:U,data:B||[]}),c&&U==="OK"){M[N]={data:B,maxAge:Date.now()+c*1e3};try{sessionStorage.setItem(T,JSON.stringify(M))}catch{}}})},r),[r,$]),H=o.useCallback(function(N,M){M===void 0&&(M=!0),p(N),x.current&&M&&G(N)},[G]);return o.useEffect(function(){if(!L)return function(){return null};var N=window,M=N.google;return!C.current&&!(M!=null&&M.maps)&&d?window[d]=O:O(),function(){window[d]&&delete window[d]}},[d,O]),{ready:b,value:g,suggestions:I,setValue:H,clearSuggestions:$,clearCache:R,init:O}},el="💡 use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions.",zh=function(e){var n=new window.google.maps.Geocoder;return new Promise(function(s,i){n.geocode(e,function(r,a){a!=="OK"&&i(a),!e.address&&e.componentRestrictions&&(console.error(el),s(r)),s(r)})})},Vh=function(e){return new Promise(function(n,s){try{var i=e.geometry.location,r=i.lat,a=i.lng;n({lat:r(),lng:a()})}catch(c){s(c)}})};function ar(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Oe=ar()?o.useLayoutEffect:o.useEffect;function Nn(t,e){var n=o.createContext(e);return n}function tl(t){return typeof t=="boolean"}function cn(t){return!!(t&&{}.toString.call(t)=="[object Function]")}function nl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(s){return s!=null}).join("--")}function Sn(){}function mi(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function sl(t,e){if(t){if(typeof t=="string")return mi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mi(t,e)}}function il(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=sl(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return n=t[Symbol.iterator](),n.next.bind(n)}function rl(t,e){if(t!=null)if(cn(t))t(e);else try{t.current=e}catch{throw new Error('Cannot assign value "'+e+'" to ref "'+t+'"')}}function un(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o.useCallback(function(s){for(var i=il(e),r;!(r=i()).done;){var a=r.value;rl(a,s)}},e)}function ol(t,e){var n=o.useRef(!1);o.useEffect(function(){n.current?t():n.current=!0},e)}function al(t,e){var n=o.useState(e),s=n[0],i=n[1],r=o.useCallback(function(a){t.current=a,i(a)},[]);return[s,r]}function Se(t,e){return function(n){if(t&&t(n),!n.defaultPrevented)return e(n)}}function lr(){var t=o.useState(Object.create(null)),e=t[1];return o.useCallback(function(){e(Object.create(null))},[])}function ll(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,r;for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Pe(){return Pe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Pe.apply(this,arguments)}var cl=["element","index"];function ul(t,e){e===void 0&&(e={});var n=[];return Nn(t,Pe({descendants:n,registerDescendant:Sn,unregisterDescendant:Sn},e))}function dl(t,e,n){var s=lr(),i=o.useContext(e),r=i.registerDescendant,a=i.unregisterDescendant,c=i.descendants,l=n??c.findIndex(function(u){return u.element===t.element});return Oe(function(){return t.element||s(),r(Pe({},t,{index:l})),function(){a(t.element)}},[t,s,l,r,a].concat(Object.values(t))),l}function hl(){return o.useState([])}function fl(t){return o.useContext(t).descendants}function pl(t){var e=t.context,n=t.children,s=t.items,i=t.set,r=o.useCallback(function(c){var l=c.element,u=c.index,d=ll(c,cl);l&&i(function(f){var m;if(u!=null)return[].concat(f,[Pe({},d,{element:l,index:u})]).sort(function(y,b){return y.index-b.index});if(f.length===0)m=[Pe({},d,{element:l,index:0})];else if(f.find(function(y){return y.element===l}))m=f;else{var h=f.findIndex(function(y){return!y.element||!l?!1:!!(y.element.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_PRECEDING)}),L=Pe({},d,{element:l,index:h});h===-1?m=[].concat(f,[L]):m=[].concat(f.slice(0,h),[L],f.slice(h))}return m.map(function(y,b){return Pe({},y,{index:b})})})},[]),a=o.useCallback(function(c){c&&i(function(l){return l.filter(function(u){return c!==u.element})})},[]);return o.createElement(e.Provider,{value:o.useMemo(function(){return{descendants:s,registerDescendant:r,unregisterDescendant:a}},[s,r,a])},n)}var gn=!1,gl=0,vi=function(){return++gl};function ml(t){var e=t||(gn?vi():null),n=o.useState(e),s=n[0],i=n[1];return Oe(function(){s===null&&i(vi())},[]),o.useEffect(function(){gn===!1&&(gn=!0)},[]),s!=null?String(s):void 0}var vl=function(e){var n=e.children,s=e.type,i=s===void 0?"reach-portal":s,r=e.containerRef,a=o.useRef(null),c=o.useRef(null),l=lr();return Oe(function(){if(a.current){var u=a.current.ownerDocument,d=(r==null?void 0:r.current)||u.body;return c.current=u==null?void 0:u.createElement(i),d.appendChild(c.current),l(),function(){c.current&&d&&d.removeChild(c.current)}}},[i,l,r]),c.current?Ke.createPortal(n,c.current):o.createElement("span",{ref:a})},yl=["bottom","height","left","right","top","width"],Ll=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),yl.some(function(s){return e[s]!==n[s]})},_e=new Map,cr,bl=function t(){var e=[];_e.forEach(function(n,s){var i=s.getBoundingClientRect();Ll(i,n.rect)&&(n.rect=i,e.push(n))}),e.forEach(function(n){n.callbacks.forEach(function(s){return s(n.rect)})}),cr=window.requestAnimationFrame(t)};function El(t,e){return{observe:function(){var s=_e.size===0;_e.has(t)?_e.get(t).callbacks.push(e):_e.set(t,{rect:void 0,hasRectChanged:!1,callbacks:[e]}),s&&bl()},unobserve:function(){var s=_e.get(t);if(s){var i=s.callbacks.indexOf(e);i>=0&&s.callbacks.splice(i,1),s.callbacks.length||_e.delete(t),_e.size||cancelAnimationFrame(cr)}}}}function yi(t,e,n){var s,i;if(tl(e))s=e;else{var r;s=(r=e==null?void 0:e.observe)!=null?r:!0,i=e==null?void 0:e.onChange}cn(n)&&(i=n);var a=o.useState(t.current),c=a[0],l=a[1],u=o.useRef(!1),d=o.useRef(!1),f=o.useState(null),m=f[0],h=f[1],L=o.useRef(i);return Oe(function(){L.current=i,t.current!==c&&l(t.current)}),Oe(function(){c&&!u.current&&(u.current=!0,h(c.getBoundingClientRect()))},[c]),Oe(function(){if(s){var y=c;if(d.current||(d.current=!0,y=t.current),!!y){var b=El(y,function(w){L.current==null||L.current(w),h(w)});return b.observe(),function(){b.unobserve()}}}},[s,c,t]),m}function wl(t){return ar()?t?t.ownerDocument:document:null}var ur=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],Cn=ur.join(","),Bn=typeof Element>"u"?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function Un(t,e){e=e||{};var n=[],s=[],i=t.querySelectorAll(Cn);e.includeContainer&&Bn.call(t,Cn)&&(i=Array.prototype.slice.apply(i),i.unshift(t));var r,a,c;for(r=0;r<i.length;r++)a=i[r],dr(a)&&(c=fr(a),c===0?n.push(a):s.push({documentOrder:r,tabIndex:c,node:a}));var l=s.sort(Cl).map(function(u){return u.node}).concat(n);return l}Un.isTabbable=Il;Un.isFocusable=Sl;function dr(t){return!(!hr(t)||Ml(t)||fr(t)<0)}function Il(t){if(!t)throw new Error("No node provided");return Bn.call(t,Cn)===!1?!1:dr(t)}function hr(t){return!(t.disabled||xl(t)||Rl(t))}var _l=ur.concat("iframe").join(",");function Sl(t){if(!t)throw new Error("No node provided");return Bn.call(t,_l)===!1?!1:hr(t)}function fr(t){var e=parseInt(t.getAttribute("tabindex"),10);return isNaN(e)?kl(t)?0:t.tabIndex:e}function Cl(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex}function kl(t){return t.contentEditable==="true"}function pr(t){return t.tagName==="INPUT"}function xl(t){return pr(t)&&t.type==="hidden"}function Tl(t){return pr(t)&&t.type==="radio"}function Ml(t){return Tl(t)&&!Ol(t)}function Pl(t){for(var e=0;e<t.length;e++)if(t[e].checked)return t[e]}function Ol(t){if(!t.name)return!0;var e=t.ownerDocument.querySelectorAll('input[type="radio"][name="'+t.name+'"]'),n=Pl(e);return!n||n===t}function Rl(t){return t.offsetParent===null||getComputedStyle(t).visibility==="hidden"}var Al=Un;const Le=Wi(Al);function Dl(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,r;for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Fe(){return Fe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Fe.apply(this,arguments)}var Nl=["as","targetRef","position","unstable_observableRefs"],Bl=o.forwardRef(function(e,n){return o.createElement(vl,null,o.createElement(Ul,Fe({ref:n},e)))}),Ul=o.forwardRef(function(e,n){var s=e.as,i=s===void 0?"div":s,r=e.targetRef,a=e.position,c=a===void 0?jl:a,l=e.unstable_observableRefs,u=l===void 0?[]:l,d=Dl(e,Nl),f=o.useRef(null),m=yi(f,{observe:!d.hidden}),h=yi(r,{observe:!d.hidden}),L=un(f,n);return Vl(r,f),o.createElement(i,Fe({"data-reach-popover":"",ref:L},d,{style:Fe({position:"absolute"},$l.apply(void 0,[c,h,m].concat(u)),d.style)}))});function $l(t,e,n){for(var s=arguments.length,i=new Array(s>3?s-3:0),r=3;r<s;r++)i[r-3]=arguments[r];return n?t.apply(void 0,[e,n].concat(i.map(function(a){return a.current}))):{visibility:"hidden"}}function gr(t,e,n){return{top:n?t.top-e.height+window.pageYOffset+"px":t.top+t.height+window.pageYOffset+"px"}}var jl=function(e,n){if(!e||!n)return{};var s=mr(e,n),i=s.directionRight,r=s.directionUp;return Fe({left:i?e.right-n.width+window.pageXOffset+"px":e.left+window.pageXOffset+"px"},gr(e,n,r))},zl=function(e,n){if(!e||!n)return{};var s=mr(e,n),i=s.directionUp;return Fe({width:e.width,left:e.left},gr(e,n,i))};function mr(t,e,n,s){n===void 0&&(n=0),s===void 0&&(s=0);var i={top:t.top-e.height<0,right:window.innerWidth<t.left+e.width-n,bottom:window.innerHeight<t.bottom+e.height-s,left:t.left+t.width-e.width<0},r=i.right&&!i.left,a=i.left&&!i.right,c=i.bottom&&!i.top,l=i.top&&!i.bottom;return{directionRight:r,directionLeft:a,directionUp:c,directionDown:l}}function Vl(t,e){var n=wl(t.current);function s(v){v.key==="Tab"&&e.current&&Le(e.current).length===0||(v.key==="Tab"&&v.shiftKey?u(v)?d(v):f(v)?m(v):L(v)&&b():v.key==="Tab"&&(r()?a(v):c()?l(v):h(v)&&b()))}o.useEffect(function(){return n.addEventListener("keydown",s),function(){n.removeEventListener("keydown",s)}},[]);function i(){var v=Le(n),g=v&&t.current?v.indexOf(t.current):-1,p=v&&v[g+1];return e.current&&e.current.contains(p||null)?!1:p}function r(){return t.current?t.current===n.activeElement:!1}function a(v){var g=e.current&&Le(e.current);g&&g[0]&&(v.preventDefault(),g[0].focus())}function c(){var v=e.current?e.current.contains(n.activeElement||null):!1;if(v){var g=e.current&&Le(e.current);return!!(g&&g[g.length-1]===n.activeElement)}return!1}function l(v){var g=i();g&&(v.preventDefault(),g.focus())}function u(v){if(v.shiftKey){var g=i();return v.target===g}}function d(v){var g=e.current&&Le(e.current),p=g&&g[g.length-1];p&&(v.preventDefault(),p.focus())}function f(v){var g=e.current&&Le(e.current);return g?g.length===0?!1:v.target===g[0]:!1}function m(v){var g;v.preventDefault(),(g=t.current)==null||g.focus()}function h(v){var g=e.current?Le(n).filter(function(p){return!e.current.contains(p)}):null;return g?v.target===g[g.length-1]:!1}function L(v){return v.target===Le(n)[0]}var y=[];function b(){var v=e.current&&Le(e.current);v&&(v.forEach(function(g){y.push([g,g.tabIndex]),g.tabIndex=-1}),n.addEventListener("focusin",w))}function w(){n.removeEventListener("focusin",w),y.forEach(function(v){var g=v[0],p=v[1];g.tabIndex=p})}}function Et(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,r;for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function re(){return re=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},re.apply(this,arguments)}function Fl(t){var e=t.autoEscape,n=t.caseSensitive,s=n===void 0?!1:n,i=t.findChunks,r=i===void 0?yr:i,a=t.sanitize,c=t.searchWords,l=t.textToHighlight;return Lr({chunksToHighlight:vr({chunks:r({autoEscape:e,caseSensitive:s,sanitize:a,searchWords:c,textToHighlight:l})}),totalLength:l?l.length:0})}function vr(t){var e=t.chunks;return e.sort(function(n,s){return n.start-s.start}).reduce(function(n,s){if(n.length===0)return[s];var i=n.pop();if(s.start<=i.end){var r=Math.max(i.end,s.end);n.push({highlight:!1,start:i.start,end:r})}else n.push(i,s);return n},[])}function yr(t){var e=t.autoEscape,n=t.caseSensitive,s=t.sanitize,i=s===void 0?Hl:s,r=t.searchWords,a=t.textToHighlight;return a=i(a||""),r.filter(function(c){return c}).reduce(function(c,l){l=i(l),e&&(l=Wl(l));for(var u=new RegExp(l,n?"g":"gi"),d;d=u.exec(a||"");){var f=d.index,m=u.lastIndex;m>f&&c.push({highlight:!1,start:f,end:m}),d.index===u.lastIndex&&u.lastIndex++}return c},[])}function Lr(t){var e=t.chunksToHighlight,n=t.totalLength,s=[];if(e.length===0)r(0,n,!1);else{var i=0;e.forEach(function(a){r(i,a.start,!1),r(a.start,a.end,!0),i=a.end}),r(i,n,!1)}return s;function r(a,c,l){c-a>0&&s.push({start:a,end:c,highlight:l})}}function Hl(t){return t}function Wl(t){return t.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}var Gl={combineChunks:vr,fillInChunks:Lr,findAll:Fl,findChunks:yr},Kl=["onSelect","openOnFocus","children","as","aria-label","aria-labelledby"],Zl=["as","selectOnClick","autocomplete","onClick","onChange","onKeyDown","onBlur","onFocus","value"],ql=["as","children","portal","onKeyDown","onBlur","position"],Jl=["persistSelection","as"],Yl=["as","children","index","value","onClick"],pe,fe,le,ge,Ze,ee="IDLE",ce="SUGGESTING",Ce="NAVIGATING",Qe="INTERACTING",qe="CLEAR",Je="CHANGE",$n="INITIAL_CHANGE",ae="NAVIGATE",jn="SELECT_WITH_KEYBOARD",ze="SELECT_WITH_CLICK",et="ESCAPE",Ye="BLUR",tn="INTERACT",Xe="FOCUS",zn="OPEN_WITH_BUTTON",Vn="OPEN_WITH_INPUT_CLICK",Kt="CLOSE_WITH_BUTTON",Xl={initial:ee,states:(Ze={},Ze[ee]={on:(pe={},pe[Ye]=ee,pe[qe]=ee,pe[Je]=ce,pe[$n]=ee,pe[Xe]=ce,pe[ae]=Ce,pe[zn]=ce,pe[Vn]=ce,pe)},Ze[ce]={on:(fe={},fe[Je]=ce,fe[Xe]=ce,fe[ae]=Ce,fe[qe]=ee,fe[et]=ee,fe[Ye]=ee,fe[ze]=ee,fe[tn]=Qe,fe[Kt]=ee,fe)},Ze[Ce]={on:(le={},le[Je]=ce,le[Xe]=ce,le[qe]=ee,le[Ye]=ee,le[et]=ee,le[ae]=Ce,le[ze]=ee,le[jn]=ee,le[Kt]=ee,le[tn]=Qe,le)},Ze[Qe]={on:(ge={},ge[qe]=ee,ge[Je]=ce,ge[Xe]=ce,ge[Ye]=ee,ge[et]=ee,ge[ae]=Ce,ge[Kt]=ee,ge[ze]=ee,ge)},Ze)},Ql=function(e,n){var s=re({},e,{lastEventType:n.type});switch(n.type){case Je:case $n:return re({},s,{navigationValue:null,value:n.value});case ae:case zn:case Vn:return re({},s,{navigationValue:Li(s,n)});case qe:return re({},s,{value:"",navigationValue:null});case Ye:case et:return re({},s,{navigationValue:null});case ze:return re({},s,{value:n.isControlled?e.value:n.value,navigationValue:null});case jn:return re({},s,{value:n.isControlled?e.value:e.navigationValue,navigationValue:null});case Kt:return re({},s,{navigationValue:null});case tn:return s;case Xe:return re({},s,{navigationValue:Li(s,n)});default:return s}};function ec(t){return[ce,Ce,Qe].includes(t)}function Li(t,e){return e.value?e.value:e.persistSelection?t.value:null}var Fn=ul("ComboboxDescendantContext"),De=Nn("ComboboxContext",{}),br=Nn("OptionContext",{}),Fh=o.forwardRef(function(t,e){var n,s=t.onSelect,i=t.openOnFocus,r=i===void 0?!1:i,a=t.children,c=t.as,l=c===void 0?"div":c,u=t["aria-label"],d=t["aria-labelledby"],f=Et(t,Kl),m=hl(),h=m[0],L=m[1],y=o.useRef(),b=o.useRef(),w=o.useRef(),v=o.useRef(!1),g=o.useRef(!1),p={value:"",navigationValue:null},_=sc(Xl,Ql,p),I=_[0],k=_[1],x=_[2];nc(k.lastEventType,y);var E=ml(f.id),C=E?nl("listbox",E):"listbox",T=o.useRef(!1),O=ec(I),$={ariaLabel:u,ariaLabelledby:d,autocompletePropRef:v,buttonRef:w,comboboxId:E,data:k,inputRef:y,isExpanded:O,listboxId:C,onSelect:s||Sn,openOnFocus:r,persistSelectionRef:g,popoverRef:b,state:I,transition:x,isControlledRef:T};return o.createElement(pl,{context:Fn,items:h,set:L},o.createElement(De.Provider,{value:$},o.createElement(l,re({},f,{"data-reach-combobox":"","data-state":Hn(I),"data-expanded":O||void 0,ref:e}),cn(a)?a({id:E,isExpanded:O,navigationValue:(n=k.navigationValue)!=null?n:null,state:I}):a)))}),Hh=o.forwardRef(function(t,e){var n=t.as,s=n===void 0?"input":n,i=t.selectOnClick,r=i===void 0?!1:i,a=t.autocomplete,c=a===void 0?!0:a,l=t.onClick,u=t.onChange,d=t.onKeyDown,f=t.onBlur,m=t.onFocus,h=t.value,L=Et(t,Zl),y=o.useRef(h),b=y.current,w=o.useRef(!1);ol(function(){w.current=!0},[h]);var v=o.useContext(De),g=v.data,p=g.navigationValue,_=g.value,I=g.lastEventType,k=v.inputRef,x=v.state,E=v.transition,C=v.listboxId,T=v.autocompletePropRef,O=v.openOnFocus,$=v.isExpanded,R=v.ariaLabel,G=v.ariaLabelledby,H=v.persistSelectionRef,N=v.isControlledRef,M=un(k,e),B=o.useRef(!1),U=Er(),Z=wr(),K=typeof h<"u";o.useEffect(function(){N.current=K},[K]),Oe(function(){T.current=c},[c,T]);var P=o.useCallback(function(A){A.trim()===""?E(qe,{isControlled:K}):A===b&&!w.current?E($n,{value:A}):E(Je,{value:A})},[b,E,K]);o.useEffect(function(){K&&h!==_&&(h.trim()!==""||(_||"").trim()!=="")&&P(h)},[h,P,K,_]);function S(A){var Y=A.target.value;K||P(Y)}function ne(){r&&(B.current=!0),O&&I!==ze&&E(Xe,{persistSelection:H.current})}function Q(){if(B.current){var A;B.current=!1,(A=k.current)==null||A.select()}O&&x===ee&&E(Vn)}var z=c&&(x===Ce||x===Qe)?p||h||_:h||_;return o.createElement(s,re({"aria-activedescendant":p?String(Ir(p)):void 0,"aria-autocomplete":"both","aria-controls":C,"aria-expanded":$,"aria-haspopup":"listbox","aria-label":R,"aria-labelledby":R?void 0:G,role:"combobox"},L,{"data-reach-combobox-input":"","data-state":Hn(x),ref:M,onBlur:Se(f,Z),onChange:Se(u,S),onClick:Se(l,Q),onFocus:Se(m,ne),onKeyDown:Se(d,U),value:z||""}))}),Wh=o.forwardRef(function(t,e){var n=t.as,s=n===void 0?"div":n,i=t.children,r=t.portal,a=r===void 0?!0:r,c=t.onKeyDown,l=t.onBlur,u=t.position,d=u===void 0?zl:u,f=Et(t,ql),m=o.useContext(De),h=m.popoverRef,L=m.inputRef,y=m.isExpanded,b=m.state,w=un(h,e),v=Er(),g=wr(),p={"data-reach-combobox-popover":"","data-state":Hn(b),onKeyDown:Se(c,v),onBlur:Se(l,g),hidden:!y,tabIndex:-1,children:i};return a?o.createElement(Bl,re({as:s},f,{ref:w,"data-expanded":y||void 0,position:d,targetRef:L},p)):o.createElement(s,re({ref:w},f,p))}),Gh=o.forwardRef(function(t,e){var n=t.persistSelection,s=n===void 0?!1:n,i=t.as,r=i===void 0?"ul":i,a=Et(t,Jl),c=o.useContext(De),l=c.persistSelectionRef,u=c.listboxId;return s&&(l.current=!0),o.createElement(r,re({role:"listbox"},a,{ref:e,"data-reach-combobox-list":"",id:u}))}),Kh=o.forwardRef(function(t,e){var n=t.as,s=n===void 0?"li":n,i=t.children,r=t.index,a=t.value,c=t.onClick,l=Et(t,Yl),u=o.useContext(De),d=u.onSelect,f=u.data.navigationValue,m=u.transition,h=u.isControlledRef,L=o.useRef(null),y=al(L,null),b=y[0],w=y[1],v=o.useMemo(function(){return{element:b,value:a}},[a,b]),g=dl(v,Fn,r),p=un(e,w),_=f===a,I=function(){d&&d(a),m(ze,{value:a,isControlled:h.current})};return o.createElement(br.Provider,{value:{value:a,index:g}},o.createElement(s,re({"aria-selected":_,role:"option"},l,{"data-reach-combobox-option":"",ref:p,id:String(Ir(a)),"data-highlighted":_?"":void 0,tabIndex:-1,onClick:Se(c,I)}),i?cn(i)?i({value:a,index:g}):i:o.createElement(tc,null)))});function tc(){var t=o.useContext(br),e=t.value,n=o.useContext(De),s=n.data.value,i=o.useMemo(function(){return Gl.findAll({searchWords:ic(s||"").split(/\s+/),textToHighlight:e})},[s,e]);return o.createElement(o.Fragment,null,i.length?i.map(function(r,a){var c=e.slice(r.start,r.end);return o.createElement("span",{key:a,"data-reach-combobox-option-text":"","data-user-value":r.highlight?!0:void 0,"data-suggested-value":r.highlight?void 0:!0},c)}):e)}function nc(t,e){Oe(function(){if(t===ae||t===et||t===ze||t===zn){var n;(n=e.current)==null||n.focus()}},[e,t])}function Er(){var t=o.useContext(De),e=t.data.navigationValue,n=t.onSelect,s=t.state,i=t.transition,r=t.autocompletePropRef,a=t.persistSelectionRef,c=t.isControlledRef,l=fl(Fn);return function(d){var f=l.findIndex(function(v){var g=v.value;return g===e});function m(){var v=f===l.length-1;return v?r.current?null:L():l[(f+1)%l.length]}function h(){var v=f===0;return v?r.current?null:y():f===-1?y():l[(f-1+l.length)%l.length]}function L(){return l[0]}function y(){return l[l.length-1]}switch(d.key){case"ArrowDown":if(d.preventDefault(),!l||!l.length)return;if(s===ee)i(ae,{persistSelection:a.current});else{var b=m();i(ae,{value:b?b.value:null})}break;case"ArrowUp":if(d.preventDefault(),!l||l.length===0)return;if(s===ee)i(ae);else{var w=h();i(ae,{value:w?w.value:null})}break;case"Home":case"PageUp":if(d.preventDefault(),!l||l.length===0)return;s===ee?i(ae):i(ae,{value:L().value});break;case"End":case"PageDown":if(d.preventDefault(),!l||l.length===0)return;s===ee?i(ae):i(ae,{value:y().value});break;case"Escape":s!==ee&&i(et);break;case"Enter":s===Ce&&e!==null&&(d.preventDefault(),n&&n(e),i(jn,{isControlled:c.current}));break}}}function wr(){var t=o.useContext(De),e=t.state,n=t.transition,s=t.popoverRef,i=t.inputRef,r=t.buttonRef;return function(c){var l=s.current,u=i.current,d=r.current,f=c.relatedTarget;f!==u&&f!==d&&l&&(l.contains(f)?e!==Qe&&n(tn):n(Ye))}}function sc(t,e,n){var s=o.useState(t.initial),i=s[0],r=s[1],a=o.useReducer(e,n),c=a[0],l=a[1],u=function(f,m){m===void 0&&(m={});var h=t.states[i],L=h&&h.on[f];if(L){l(re({type:f,state:i,nextState:i},m)),r(L);return}};return[i,c,u]}function Ir(t){var e=0;if(t.length===0)return e;for(var n=0;n<t.length;n++){var s=t.charCodeAt(n);e=(e<<5)-e+s,e=e&e}return e}function Hn(t){return t.toLowerCase()}function ic(t){return String(t).replace(/([.*+?=^!:${}()|[\]/\\])/g,"\\$1")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rc=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],a=t[n++],c=t[n++],l=((i&7)<<18|(r&63)<<12|(a&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],a=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|a&63)}}return e.join("")},Sr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],a=i+1<t.length,c=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=r>>2,f=(r&3)<<4|c>>4;let m=(c&15)<<2|u>>6,h=u&63;l||(h=64,a||(m=64)),s.push(n[d],n[f],n[m],n[h])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_r(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rc(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||c==null||u==null||f==null)throw new oc;const m=r<<2|c>>4;if(s.push(m),u!==64){const h=c<<4&240|u>>2;if(s.push(h),f!==64){const L=u<<6&192|f;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oc extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ac=function(t){const e=_r(t);return Sr.encodeByteArray(e,!0)},Cr=function(t){return ac(t).replace(/\./g,"")},kr=function(t){try{return Sr.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=()=>lc().__FIREBASE_DEFAULTS__,uc=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dc=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kr(t[1]);return e&&JSON.parse(e)},Wn=()=>{try{return cc()||uc()||dc()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hc=t=>{var e,n;return(n=(e=Wn())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fc=()=>{var t;return(t=Wn())===null||t===void 0?void 0:t.config},xr=t=>{var e;return(e=Wn())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oe())}function mc(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yc(){const t=oe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Lc(){try{return typeof indexedDB=="object"}catch{return!1}}function bc(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec="FirebaseError";class Ne extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Ec,Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],a=r?wc(r,s):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new Ne(i,c,s)}}function wc(t,e){return t.replace(Ic,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const Ic=/\{\$([^}]+)}/g;function _c(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nn(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],a=e[i];if(bi(r)&&bi(a)){if(!nn(r,a))return!1}else if(r!==a)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function bi(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function dt(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function ht(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Sc(t,e){const n=new Cc(t,e);return n.subscribe.bind(n)}class Cc{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");kc(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=mn),i.error===void 0&&(i.error=mn),i.complete===void 0&&(i.complete=mn);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kc(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mn(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t){return t&&t._delegate?t._delegate:t}class it{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ue="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new pc;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Mc(e))try{this.getOrInitializeService({instanceIdentifier:Ue})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=Ue){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ue){return this.instances.has(e)}getOptions(e=Ue){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(r);s===c&&a.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&e(a,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Tc(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ue){return this.component?this.component.multipleInstances?e:Ue:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Tc(t){return t===Ue?void 0:t}function Mc(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xc(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const Oc={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},Rc=te.INFO,Ac={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},Dc=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=Ac[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tr{constructor(e){this.name=e,this._logLevel=Rc,this._logHandler=Dc,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Oc[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const Nc=(t,e)=>e.some(n=>t instanceof n);let Ei,wi;function Bc(){return Ei||(Ei=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uc(){return wi||(wi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mr=new WeakMap,kn=new WeakMap,Pr=new WeakMap,vn=new WeakMap,Gn=new WeakMap;function $c(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(Re(t.result)),i()},a=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Mr.set(n,t)}).catch(()=>{}),Gn.set(e,t),e}function jc(t){if(kn.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),i()},a=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});kn.set(t,e)}let xn={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kn.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pr.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Re(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zc(t){xn=t(xn)}function Vc(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(yn(this),e,...n);return Pr.set(s,e.sort?e.sort():[e]),Re(s)}:Uc().includes(t)?function(...e){return t.apply(yn(this),e),Re(Mr.get(this))}:function(...e){return Re(t.apply(yn(this),e))}}function Fc(t){return typeof t=="function"?Vc(t):(t instanceof IDBTransaction&&jc(t),Nc(t,Bc())?new Proxy(t,xn):t)}function Re(t){if(t instanceof IDBRequest)return $c(t);if(vn.has(t))return vn.get(t);const e=Fc(t);return e!==t&&(vn.set(t,e),Gn.set(e,t)),e}const yn=t=>Gn.get(t);function Hc(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const a=indexedDB.open(t,e),c=Re(a);return s&&a.addEventListener("upgradeneeded",l=>{s(Re(a.result),l.oldVersion,l.newVersion,Re(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),c.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),c}const Wc=["get","getKey","getAll","getAllKeys","count"],Gc=["put","add","delete","clear"],Ln=new Map;function Ii(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ln.get(e))return Ln.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=Gc.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||Wc.includes(n)))return;const r=async function(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return s&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),i&&l.done]))[0]};return Ln.set(e,r),r}zc(t=>({...t,get:(e,n,s)=>Ii(e,n)||t.get(e,n,s),has:(e,n)=>!!Ii(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Zc(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Zc(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tn="@firebase/app",_i="0.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He=new Tr("@firebase/app"),qc="@firebase/app-compat",Jc="@firebase/analytics-compat",Yc="@firebase/analytics",Xc="@firebase/app-check-compat",Qc="@firebase/app-check",eu="@firebase/auth",tu="@firebase/auth-compat",nu="@firebase/database",su="@firebase/database-compat",iu="@firebase/functions",ru="@firebase/functions-compat",ou="@firebase/installations",au="@firebase/installations-compat",lu="@firebase/messaging",cu="@firebase/messaging-compat",uu="@firebase/performance",du="@firebase/performance-compat",hu="@firebase/remote-config",fu="@firebase/remote-config-compat",pu="@firebase/storage",gu="@firebase/storage-compat",mu="@firebase/firestore",vu="@firebase/firestore-compat",yu="firebase",Lu="9.17.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="[DEFAULT]",bu={[Tn]:"fire-core",[qc]:"fire-core-compat",[Yc]:"fire-analytics",[Jc]:"fire-analytics-compat",[Qc]:"fire-app-check",[Xc]:"fire-app-check-compat",[eu]:"fire-auth",[tu]:"fire-auth-compat",[nu]:"fire-rtdb",[su]:"fire-rtdb-compat",[iu]:"fire-fn",[ru]:"fire-fn-compat",[ou]:"fire-iid",[au]:"fire-iid-compat",[lu]:"fire-fcm",[cu]:"fire-fcm-compat",[uu]:"fire-perf",[du]:"fire-perf-compat",[hu]:"fire-rc",[fu]:"fire-rc-compat",[pu]:"fire-gcs",[gu]:"fire-gcs-compat",[mu]:"fire-fst",[vu]:"fire-fst-compat","fire-js":"fire-js",[yu]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new Map,Pn=new Map;function Eu(t,e){try{t.container.addComponent(e)}catch(n){He.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mt(t){const e=t.name;if(Pn.has(e))return He.debug(`There were multiple attempts to register component ${e}.`),!1;Pn.set(e,t);for(const n of sn.values())Eu(n,t);return!0}function Or(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ae=new wt("app","Firebase",wu);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new it("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ae.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn=Lu;function _u(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Mn,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw Ae.create("bad-app-name",{appName:String(i)});if(n||(n=fc()),!n)throw Ae.create("no-options");const r=sn.get(i);if(r){if(nn(n,r.options)&&nn(s,r.config))return r;throw Ae.create("duplicate-app",{appName:i})}const a=new Pc(i);for(const l of Pn.values())a.addComponent(l);const c=new Iu(n,s,a);return sn.set(i,c),c}function Su(t=Mn){const e=sn.get(t);if(!e&&t===Mn)return _u();if(!e)throw Ae.create("no-app",{appName:t});return e}function tt(t,e,n){var s;let i=(s=bu[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const c=[`Unable to register library "${i}" with version "${e}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),He.warn(c.join(" "));return}mt(new it(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu="firebase-heartbeat-database",ku=1,vt="firebase-heartbeat-store";let bn=null;function Rr(){return bn||(bn=Hc(Cu,ku,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(vt)}}}).catch(t=>{throw Ae.create("idb-open",{originalErrorMessage:t.message})})),bn}async function xu(t){try{return(await Rr()).transaction(vt).objectStore(vt).get(Ar(t))}catch(e){if(e instanceof Ne)He.warn(e.message);else{const n=Ae.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});He.warn(n.message)}}}async function Si(t,e){try{const s=(await Rr()).transaction(vt,"readwrite");return await s.objectStore(vt).put(e,Ar(t)),s.done}catch(n){if(n instanceof Ne)He.warn(n.message);else{const s=Ae.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});He.warn(s.message)}}}function Ar(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=1024,Mu=30*24*60*60*1e3;class Pu{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ru(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ci();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const r=new Date(i.date).valueOf();return Date.now()-r<=Mu}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ci(),{heartbeatsToSend:n,unsentEntries:s}=Ou(this._heartbeatsCache.heartbeats),i=Cr(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ci(){return new Date().toISOString().substring(0,10)}function Ou(t,e=Tu){const n=[];let s=t.slice();for(const i of t){const r=n.find(a=>a.agent===i.agent);if(r){if(r.dates.push(i.date),ki(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ki(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ru{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lc()?bc().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await xu(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Si(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Si(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ki(t){return Cr(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){mt(new it("platform-logger",e=>new Kc(e),"PRIVATE")),mt(new it("heartbeat",e=>new Pu(e),"PRIVATE")),tt(Tn,_i,t),tt(Tn,_i,"esm2017"),tt("fire-js","")}Au("");var Du="firebase",Nu="9.17.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tt(Du,Nu,"app");function Kn(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function Dr(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bu=Dr,Nr=new wt("auth","Firebase",Dr());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Tr("@firebase/auth");function Zt(t,...e){xi.logLevel<=te.ERROR&&xi.error(`Auth (${dn}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t,...e){throw Zn(t,...e)}function me(t,...e){return Zn(t,...e)}function Br(t,e,n){const s=Object.assign(Object.assign({},Bu()),{[e]:n});return new wt("auth","Firebase",s).create(e,{appName:t.name})}function Uu(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&de(t,"argument-error"),Br(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zn(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Nr.create(t,...e)}function D(t,e,...n){if(!t)throw Zn(e,...n)}function be(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zt(e),new Error(e)}function we(t,e){t||be(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new Map;function Ee(t){we(t instanceof Function,"Expected a class definition");let e=Ti.get(t);return e?(we(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ti.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t,e){const n=Or(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(nn(r,e??{}))return i;de(i,"already-initialized")}return n.initialize({options:e})}function ju(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ee);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zu(){return Mi()==="http:"||Mi()==="https:"}function Mi(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zu()||mc()||"connection"in navigator)?navigator.onLine:!0}function Fu(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.shortDelay=e,this.longDelay=n,we(n>e,"Short delay should be less than long delay!"),this.isMobile=gc()||vc()}get(){return Vu()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,e){we(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=new _t(3e4,6e4);function St(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ct(t,e,n,s,i={}){return $r(t,i,async()=>{let r={},a={};s&&(e==="GET"?a=s:r={body:JSON.stringify(s)});const c=It(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Ur.fetch()(jr(t,t.config.apiHost,n,c),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))})}async function $r(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},Hu),e);try{const i=new Gu(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw Ht(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const c=r.ok?a.errorMessage:a.error.message,[l,u]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ht(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Ht(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Ht(t,"user-disabled",a);const d=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Br(t,d,u);de(t,d)}}catch(i){if(i instanceof Ne)throw i;de(t,"internal-error",{message:String(i)})}}async function kt(t,e,n,s,i={}){const r=await Ct(t,e,n,s,i);return"mfaPendingCredential"in r&&de(t,"multi-factor-auth-required",{_serverResponse:r}),r}function jr(t,e,n,s){const i=`${e}${n}?${s}`;return t.config.emulator?qn(t.config,i):`${t.config.apiScheme}://${i}`}class Gu{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(me(this.auth,"network-request-failed")),Wu.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ht(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=me(t,e,s);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(t,e){return Ct(t,"POST","/v1/accounts:delete",e)}async function Zu(t,e){return Ct(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qu(t,e=!1){const n=Be(t),s=await n.getIdToken(e),i=Jn(s);D(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:gt(En(i.auth_time)),issuedAtTime:gt(En(i.iat)),expirationTime:gt(En(i.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function En(t){return Number(t)*1e3}function Jn(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Zt("JWT malformed, contained fewer than 3 sections"),null;try{const i=kr(n);return i?JSON.parse(i):(Zt("Failed to decode base64 JWT payload"),null)}catch(i){return Zt("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ju(t){const e=Jn(t);return D(e,"internal-error"),D(typeof e.exp<"u","internal-error"),D(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yt(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ne&&Yu(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Yu({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gt(this.lastLoginAt),this.creationTime=gt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rn(t){var e;const n=t.auth,s=await t.getIdToken(),i=await yt(t,Zu(n,{idToken:s}));D(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const a=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?td(r.providerUserInfo):[],c=ed(t.providerData,a),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(c!=null&&c.length),d=l?u:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new zr(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Qu(t){const e=Be(t);await rn(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ed(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function td(t){return t.map(e=>{var{providerId:n}=e,s=Kn(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(t,e){const n=await $r(t,{},async()=>{const s=It({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,a=jr(t,i,"/v1/token",`key=${r}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Ur.fetch()(a,{method:"POST",headers:c,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){D(e.idToken,"internal-error"),D(typeof e.idToken<"u","internal-error"),D(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ju(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return D(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await nd(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,a=new Lt;return s&&(D(typeof s=="string","internal-error",{appName:e}),a.refreshToken=s),i&&(D(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),r&&(D(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lt,this.toJSON())}_performRefresh(){return be("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t,e){D(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ve{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=Kn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new zr(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await yt(this,this.stsTokenManager.getToken(this.auth,e));return D(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qu(this,e)}reload(){return Qu(this)}_assign(e){this!==e&&(D(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ve(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){D(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await rn(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await yt(this,Ku(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,a,c,l,u,d;const f=(s=n.displayName)!==null&&s!==void 0?s:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,h=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,L=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(c=n.tenantId)!==null&&c!==void 0?c:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:g,emailVerified:p,isAnonymous:_,providerData:I,stsTokenManager:k}=n;D(g&&k,e,"internal-error");const x=Lt.fromJSON(this.name,k);D(typeof g=="string",e,"internal-error"),Ie(f,e.name),Ie(m,e.name),D(typeof p=="boolean",e,"internal-error"),D(typeof _=="boolean",e,"internal-error"),Ie(h,e.name),Ie(L,e.name),Ie(y,e.name),Ie(b,e.name),Ie(w,e.name),Ie(v,e.name);const E=new Ve({uid:g,auth:e,email:m,emailVerified:p,displayName:f,isAnonymous:_,photoURL:L,phoneNumber:h,tenantId:y,stsTokenManager:x,createdAt:w,lastLoginAt:v});return I&&Array.isArray(I)&&(E.providerData=I.map(C=>Object.assign({},C))),b&&(E._redirectEventId=b),E}static async _fromIdTokenResponse(e,n,s=!1){const i=new Lt;i.updateFromServerResponse(n);const r=new Ve({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await rn(r),r}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Vr.type="NONE";const Pi=Vr;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t,e,n){return`firebase:${t}:${e}:${n}`}class nt{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=qt(this.userKey,i.apiKey,r),this.fullPersistenceKey=qt("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ve._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new nt(Ee(Pi),e,s);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let r=i[0]||Ee(Pi);const a=qt(s,e.config.apiKey,e.name);let c=null;for(const u of n)try{const d=await u._get(a);if(d){const f=Ve._fromJSON(e,d);u!==r&&(c=f),r=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new nt(r,e,s):(r=l[0],c&&await r._set(a,c.toJSON()),await Promise.all(n.map(async u=>{if(u!==r)try{await u._remove(a)}catch{}})),new nt(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wr(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fr(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kr(e))return"Blackberry";if(Zr(e))return"Webos";if(Yn(e))return"Safari";if((e.includes("chrome/")||Hr(e))&&!e.includes("edge/"))return"Chrome";if(Gr(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Fr(t=oe()){return/firefox\//i.test(t)}function Yn(t=oe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hr(t=oe()){return/crios\//i.test(t)}function Wr(t=oe()){return/iemobile/i.test(t)}function Gr(t=oe()){return/android/i.test(t)}function Kr(t=oe()){return/blackberry/i.test(t)}function Zr(t=oe()){return/webos/i.test(t)}function hn(t=oe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sd(t=oe()){var e;return hn(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function id(){return yc()&&document.documentMode===10}function qr(t=oe()){return hn(t)||Gr(t)||Zr(t)||Kr(t)||/windows phone/i.test(t)||Wr(t)}function rd(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t,e=[]){let n;switch(t){case"Browser":n=Oi(oe());break;case"Worker":n=`${Oi(oe())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dn}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((a,c)=>{try{const l=e(r);a(l)}catch(l){c(l)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,s){this.app=e,this.heartbeatServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ri(this),this.idTokenSubscription=new Ri(this),this.beforeStateQueue=new od(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ee(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await nt.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===c)&&(l!=null&&l.user)&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return D(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rn(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Fu()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Be(e):null;return n&&D(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&D(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ee(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wt("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ee(e)||this._popupRedirectResolver;D(n,this,"argument-error"),this.redirectPersistenceManager=await nt.create(this,[Ee(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return D(a,this,"internal-error"),a.then(()=>r(this.currentUser)),typeof n=="function"?e.addObserver(n,s,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return D(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return s&&(n["X-Firebase-Client"]=s),n}}function ot(t){return Be(t)}class Ri{constructor(e){this.auth=e,this.observer=null,this.addObserver=Sc(n=>this.observer=n)}get next(){return D(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ld(t,e,n){const s=ot(t);D(s._canInitEmulator,s,"emulator-config-failed"),D(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),r=Yr(e),{host:a,port:c}=cd(e),l=c===null?"":`:${c}`;s.config.emulator={url:`${r}//${a}${l}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:a,port:c,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||ud()}function Yr(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cd(t){const e=Yr(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:Ai(s.substr(r.length+1))}}else{const[r,a]=s.split(":");return{host:r,port:Ai(a)}}}function Ai(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ud(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return be("not implemented")}_getIdTokenResponse(e){return be("not implemented")}_linkToIdToken(e,n){return be("not implemented")}_getReauthenticationResolver(e){return be("not implemented")}}async function dd(t,e){return Ct(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(t,e){return kt(t,"POST","/v1/accounts:signInWithPassword",St(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fd(t,e){return kt(t,"POST","/v1/accounts:signInWithEmailLink",St(t,e))}async function pd(t,e){return kt(t,"POST","/v1/accounts:signInWithEmailLink",St(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt extends Xn{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new bt(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new bt(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return hd(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return fd(e,{email:this._email,oobCode:this._password});default:de(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return dd(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return pd(e,{idToken:n,email:this._email,oobCode:this._password});default:de(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function st(t,e){return kt(t,"POST","/v1/accounts:signInWithIdp",St(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="http://localhost";class We extends Xn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new We(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):de("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=Kn(n,["providerId","signInMethod"]);if(!s||!i)return null;const a=new We(s,i);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return st(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,st(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,st(e,n)}buildRequest(){const e={requestUri:gd,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=It(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vd(t){const e=dt(ht(t)).link,n=e?dt(ht(e)).deep_link_id:null,s=dt(ht(t)).deep_link_id;return(s?dt(ht(s)).link:null)||s||n||e||t}class Qn{constructor(e){var n,s,i,r,a,c;const l=dt(ht(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(s=l.oobCode)!==null&&s!==void 0?s:null,f=md((i=l.mode)!==null&&i!==void 0?i:null);D(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=vd(e);try{return new Qn(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(){this.providerId=at.PROVIDER_ID}static credential(e,n){return bt._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Qn.parseLink(n);return D(s,"argument-error"),bt._fromEmailAndCode(e,s.code,s.tenantId)}}at.PROVIDER_ID="password";at.EMAIL_PASSWORD_SIGN_IN_METHOD="password";at.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt extends es{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke extends xt{constructor(){super("facebook.com")}static credential(e){return We._fromParams({providerId:ke.PROVIDER_ID,signInMethod:ke.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ke.credentialFromTaggedObject(e)}static credentialFromError(e){return ke.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ke.credential(e.oauthAccessToken)}catch{return null}}}ke.FACEBOOK_SIGN_IN_METHOD="facebook.com";ke.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe extends xt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return We._fromParams({providerId:xe.PROVIDER_ID,signInMethod:xe.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xe.credentialFromTaggedObject(e)}static credentialFromError(e){return xe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return xe.credential(n,s)}catch{return null}}}xe.GOOGLE_SIGN_IN_METHOD="google.com";xe.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te extends xt{constructor(){super("github.com")}static credential(e){return We._fromParams({providerId:Te.PROVIDER_ID,signInMethod:Te.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Te.credentialFromTaggedObject(e)}static credentialFromError(e){return Te.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Te.credential(e.oauthAccessToken)}catch{return null}}}Te.GITHUB_SIGN_IN_METHOD="github.com";Te.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me extends xt{constructor(){super("twitter.com")}static credential(e,n){return We._fromParams({providerId:Me.PROVIDER_ID,signInMethod:Me.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Me.credentialFromTaggedObject(e)}static credentialFromError(e){return Me.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Me.credential(n,s)}catch{return null}}}Me.TWITTER_SIGN_IN_METHOD="twitter.com";Me.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yd(t,e){return kt(t,"POST","/v1/accounts:signUp",St(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await Ve._fromIdTokenResponse(e,s,i),a=Di(s);return new Ge({user:r,providerId:a,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=Di(s);return new Ge({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function Di(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on extends Ne{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,on.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new on(e,n,s,i)}}function Xr(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?on._fromErrorAndOperation(t,r,e,s):r})}async function Ld(t,e,n=!1){const s=await yt(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ge._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(t,e,n=!1){const{auth:s}=t,i="reauthenticate";try{const r=await yt(t,Xr(s,i,e,t),n);D(r.idToken,s,"internal-error");const a=Jn(r.idToken);D(a,s,"internal-error");const{sub:c}=a;return D(t.uid===c,s,"user-mismatch"),Ge._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&de(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qr(t,e,n=!1){const s="signIn",i=await Xr(t,s,e),r=await Ge._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function Ed(t,e){return Qr(ot(t),e)}async function Zh(t,e,n){const s=ot(t),i=await yd(s,{returnSecureToken:!0,email:e,password:n}),r=await Ge._fromIdTokenResponse(s,"signIn",i);return await s._updateCurrentUser(r.user),r}function qh(t,e,n){return Ed(Be(t),at.credential(e,n))}function wd(t,e,n,s){return Be(t).onIdTokenChanged(e,n,s)}function Id(t,e,n){return Be(t).beforeAuthStateChanged(e,n)}function Jh(t,e,n,s){return Be(t).onAuthStateChanged(e,n,s)}const an="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(an,"1"),this.storage.removeItem(an),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(){const t=oe();return Yn(t)||hn(t)}const Sd=1e3,Cd=10;class to extends eo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_d()&&rd(),this.fallbackToPolling=qr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(s);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(s);!n&&this.localCache[s]===a||this.notifyListeners(s,a)},r=this.storage.getItem(s);id()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Cd):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Sd)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}to.type="LOCAL";const kd=to;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends eo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}no.type="SESSION";const so=no;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new fn(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const c=Array.from(a).map(async u=>u(n.origin,r)),l=await xd(c);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fn.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,a;return new Promise((c,l)=>{const u=ts("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},s);a={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),c(m.data.response);break;default:clearTimeout(d),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(){return window}function Md(t){ve().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(){return typeof ve().WorkerGlobalScope<"u"&&typeof ve().importScripts=="function"}async function Pd(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Od(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Rd(){return io()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="firebaseLocalStorageDb",Ad=1,ln="firebaseLocalStorage",oo="fbase_key";class Tt{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pn(t,e){return t.transaction([ln],e?"readwrite":"readonly").objectStore(ln)}function Dd(){const t=indexedDB.deleteDatabase(ro);return new Tt(t).toPromise()}function Rn(){const t=indexedDB.open(ro,Ad);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ln,{keyPath:oo})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ln)?e(s):(s.close(),await Dd(),e(await Rn()))})})}async function Ni(t,e,n){const s=pn(t,!0).put({[oo]:e,value:n});return new Tt(s).toPromise()}async function Nd(t,e){const n=pn(t,!1).get(e),s=await new Tt(n).toPromise();return s===void 0?null:s.value}function Bi(t,e){const n=pn(t,!0).delete(e);return new Tt(n).toPromise()}const Bd=800,Ud=3;class ao{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rn(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Ud)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return io()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fn._getInstance(Rd()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Pd(),!this.activeServiceWorker)return;this.sender=new Td(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Od()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rn();return await Ni(e,an,"1"),await Bi(e,an),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ni(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Nd(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bi(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=pn(i,!1).getAll();return new Tt(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bd)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ao.type="LOCAL";const $d=ao;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function zd(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=me("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",jd().appendChild(s)})}function Vd(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new _t(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(t,e){return e?Ee(e):(D(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Xn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return st(e,this._buildIdpRequest())}_linkToIdToken(e,n){return st(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return st(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Fd(t){return Qr(t.auth,new ns(t),t.bypassAuthState)}function Hd(t){const{auth:e,user:n}=t;return D(n,e,"internal-error"),bd(n,new ns(t),t.bypassAuthState)}async function Wd(t){const{auth:e,user:n}=t;return D(n,e,"internal-error"),Ld(n,new ns(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:a,type:c}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fd;case"linkViaPopup":case"linkViaRedirect":return Wd;case"reauthViaPopup":case"reauthViaRedirect":return Hd;default:de(this.auth,"internal-error")}}resolve(e){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new _t(2e3,1e4);async function Yh(t,e,n){const s=ot(t);Uu(t,e,es);const i=lo(s,n);return new je(s,"signInViaPopup",e,i).executeNotNull()}class je extends co{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,je.currentPopupAction&&je.currentPopupAction.cancel(),je.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return D(e,this.auth,"internal-error"),e}async onExecution(){we(this.filter.length===1,"Popup operations only handle one event");const e=ts();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(me(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,je.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(me(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,Gd.get())};e()}}je.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="pendingRedirect",Jt=new Map;class Zd extends co{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Jt.get(this.auth._key());if(!e){try{const s=await qd(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Jt.set(this.auth._key(),e)}return this.bypassAuthState||Jt.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qd(t,e){const n=Xd(e),s=Yd(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function Jd(t,e){Jt.set(t._key(),e)}function Yd(t){return Ee(t._redirectPersistence)}function Xd(t){return qt(Kd,t.config.apiKey,t.name)}async function Qd(t,e,n=!1){const s=ot(t),i=lo(s,e),a=await new Zd(s,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=10*60*1e3;class th{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nh(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!uo(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(me(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eh&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ui(e))}saveEventToCache(e){this.cachedEventUids.add(Ui(e)),this.lastProcessedEventTime=Date.now()}}function Ui(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uo({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nh(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uo(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t,e={}){return Ct(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rh=/^https?/;async function oh(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sh(t);for(const n of e)try{if(ah(n))return}catch{}de(t,"unauthorized-domain")}function ah(t){const e=On(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===s}if(!rh.test(n))return!1;if(ih.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new _t(3e4,6e4);function $i(){const t=ve().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ch(t){return new Promise((e,n)=>{var s,i,r;function a(){$i(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$i(),n(me(t,"network-request-failed"))},timeout:lh.get()})}if(!((i=(s=ve().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=ve().gapi)===null||r===void 0)&&r.load)a();else{const c=Vd("iframefcb");return ve()[c]=()=>{gapi.load?a():n(me(t,"network-request-failed"))},zd(`https://apis.google.com/js/api.js?onload=${c}`).catch(l=>n(l))}}).catch(e=>{throw Yt=null,e})}let Yt=null;function uh(t){return Yt=Yt||ch(t),Yt}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new _t(5e3,15e3),hh="__/auth/iframe",fh="emulator/auth/iframe",ph={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mh(t){const e=t.config;D(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qn(e,fh):`https://${t.config.authDomain}/${hh}`,s={apiKey:e.apiKey,appName:t.name,v:dn},i=gh.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${It(s).slice(1)}`}async function vh(t){const e=await uh(t),n=ve().gapi;return D(n,t,"internal-error"),e.open({where:document.body,url:mh(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ph,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const a=me(t,"network-request-failed"),c=ve().setTimeout(()=>{r(a)},dh.get());function l(){ve().clearTimeout(c),i(s)}s.ping(l).then(l,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lh=500,bh=600,Eh="_blank",wh="http://localhost";class ji{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ih(t,e,n,s=Lh,i=bh){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString();let c="";const l=Object.assign(Object.assign({},yh),{width:s.toString(),height:i.toString(),top:r,left:a}),u=oe().toLowerCase();n&&(c=Hr(u)?Eh:n),Fr(u)&&(e=e||wh,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[h,L])=>`${m}${h}=${L},`,"");if(sd(u)&&c!=="_self")return _h(e||"",c),new ji(null);const f=window.open(e||"",c,d);D(f,t,"popup-blocked");try{f.focus()}catch{}return new ji(f)}function _h(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="__/auth/handler",Ch="emulator/auth/handler";function zi(t,e,n,s,i,r){D(t.config.authDomain,t,"auth-domain-config-required"),D(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:dn,eventId:i};if(e instanceof es){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",_c(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(r||{}))a[l]=u}if(e instanceof xt){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(a.scopes=l.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const l of Object.keys(c))c[l]===void 0&&delete c[l];return`${kh(t)}?${It(c).slice(1)}`}function kh({config:t}){return t.emulator?qn(t,Ch):`https://${t.authDomain}/${Sh}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="webStorageSupport";class xh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=so,this._completeRedirectFn=Qd,this._overrideRedirectResult=Jd}async _openPopup(e,n,s,i){var r;we((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=zi(e,n,s,On(),i);return Ih(e,a,ts())}async _openRedirect(e,n,s,i){return await this._originValidation(e),Md(zi(e,n,s,On(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(we(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await vh(e),s=new th(e);return n.register("authEvent",i=>(D(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wn,{type:wn},i=>{var r;const a=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[wn];a!==void 0&&n(!!a),de(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oh(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qr()||Yn()||hn()}}const Th=xh;var Vi="@firebase/auth",Fi="0.21.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){D(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Oh(t){mt(new it("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:r,authDomain:a}=s.options;return((c,l)=>{D(r&&!r.includes(":"),"invalid-api-key",{appName:c.name}),D(!(a!=null&&a.includes(":")),"argument-error",{appName:c.name});const u={apiKey:r,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jr(t)},d=new ad(c,l,u);return ju(d,n),d})(s,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),mt(new it("auth-internal",e=>{const n=ot(e.getProvider("auth").getImmediate());return(s=>new Mh(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tt(Vi,Fi,Ph(t)),tt(Vi,Fi,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=5*60,Ah=xr("authIdTokenMaxAge")||Rh;let Hi=null;const Dh=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Ah)return;const i=n==null?void 0:n.token;Hi!==i&&(Hi=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Xh(t=Su()){const e=Or(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$u(t,{popupRedirectResolver:Th,persistence:[$d,kd,so]}),s=xr("authTokenSyncURL");if(s){const r=Dh(s);Id(n,r,()=>r(n.currentUser)),wd(n,a=>r(a))}const i=hc("auth");return i&&ld(n,`http://${i}`),n}Oh("Browser");export{Fh as C,$h as G,Ea as I,zo as M,Uh as P,Hh as a,Wh as b,Bh as c,Gh as d,Kh as e,zh as f,Wi as g,Vh as h,Qo as i,Pa as j,To as k,_u as l,Xh as m,xe as n,qh as o,Zh as p,Jh as q,Yh as s,jh as u};
